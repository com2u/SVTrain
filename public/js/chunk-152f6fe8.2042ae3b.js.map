{"version":3,"sources":["webpack:///./src/views/Train.vue?a018","webpack:///./src/components/TFOption.vue?7e6f","webpack:///src/components/TFOption.vue","webpack:///./src/components/TFOption.vue?4f49","webpack:///./src/components/TFOption.vue","webpack:///src/views/Train.vue","webpack:///./src/views/Train.vue?f2c5","webpack:///./src/views/Train.vue","webpack:///./src/mixins/command.js","webpack:///./src/views/Train.vue?2a26","webpack:///./node_modules/@babel/runtime/helpers/esm/typeof.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","_s","currentWs","running","domProps","on","$event","showModal","attrs","_e","_l","command","key","value","class","isLoading","runCommand","workspace","icon","label","logs","lastLine","staticStyle","openLogsFor","training","ref","trainLog","tenserBoard","staticRenderFns","onOpen","scopedSlots","_u","fn","saveFile","proxy","canEditConfigAIUI","schema","fetchCount","data","field","name","components","props","ws","default","type","String","schemas","fields","max_train_steps","classes","model_dir","batch_size","input_width","input_height","input_depth","augmentation_noise_std","augmentation_brightness_delta","learning_rate","enable_linear_stretch_images","enable_augmentation_noise","enable_augmentation_mirror","enable_augmentation_brigthness","rename","network_architecture","good_class","log_every_n_steps","script_training","script_test","script_validate","script_stop_training","script_stop_test","script_stop_validation","script_export_model","script_export_result","script_export_image","script_report","script_split_data","path_log_training","path_log_test","path_log_validate","path_field_export_model","path_field_export_results","path_field_export_images","path_train","path_test","path_validate","defaultEpoch","defaultLearningRate","LiveViewURL","editor","methods","loadFile","computed","component","mixins","commands","fetch","api","$refs","modal","show","watch","mounted","statistic","train","test","validate","export","stop","ExportImages","export_model","export_results","export_images","checkInterval","twoLogLines","status","mapGetters","window","open","localStorage","getItem","checkStatus","getRunningState","checkWorkspace","getWorkspace","console","log","created","sessionUser","getLastLogs","socket","subscibeForFolder","event","content","Boolean","subscribe","obj","forEach","o","file","Object","keys","path","beforeDestroy","unsubscribeForFolder","_typeof","Symbol","iterator","constructor","prototype"],"mappings":"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","file":"js/chunk-152f6fe8.2042ae3b.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{},[_c('b-row',[_c('b-col',[_c('div',{staticClass:\"title-container\"},[_c('div',[_c('h4',[_vm._v(\"SVTrain v1.2\")])])]),_c('div',{staticClass:\"cmd-main-menu\"},[_c('div',[_vm._v(\"Workspace: \"),_c('strong',[_vm._v(_vm._s(_vm.currentWs))])]),(_vm.running !== null)?_c('div',{domProps:{\"innerHTML\":_vm._s(_vm.running || 'idle')}}):_c('b',[_vm._v(\"no info\")]),(_vm.editConfigAI)?_c('b-button',{staticClass:\"mt-2\",on:{\"click\":function($event){return _vm.showModal()}}},[_c('v-icon',{attrs:{\"name\":\"cogs\"}}),_c('span',{staticClass:\"ml-2\"},[_vm._v(\"Settings\")])],1):_vm._e(),_vm._l((_vm.commands),function(command){return _c('div',{key:command.value,staticClass:\"cmd\"},[_c('b-button',{staticClass:\"svtrain-cmd-btn\",class:command.value === 'script_stop_training' ? 'btn-stop-command' : 'btn-command',attrs:{\"disabled\":!!_vm.isLoading[command.value] || command.value === 'script_stop_training' && !_vm.running || command.value !== 'script_stop_training' && !!_vm.running},on:{\"click\":function($event){return _vm.runCommand(command.value, _vm.workspace)}}},[(!command.icon)?_c('v-icon',{attrs:{\"name\":command.value === 'script_stop_training' ? 'stop' : 'play'}}):_c('svg-icon',{attrs:{\"icon-class\":command.icon}}),_c('span',{staticClass:\"ml-2\"},[_vm._v(_vm._s(command.label))])],1),(_vm.isLoading[command.value])?_c('span',[_vm._v(\"Running...\")]):_vm._e(),(_vm.logs[command.value] && _vm.logs[command.value].lastLine)?_c('pre',{staticClass:\"log-line\",staticStyle:{\"padding-left\":\"10px\"},domProps:{\"innerHTML\":_vm._s(_vm.logs[command.value].lastLine)},on:{\"click\":function($event){return _vm.openLogsFor(command.value)}}}):_vm._e(),_vm._v(\" \"),_c('div',{staticStyle:{\"clear\":\"both\"}})],1)}),_c('pre',{staticClass:\"py-4\",domProps:{\"innerHTML\":_vm._s(_vm.logs.training.lastLine)}})],2),_c('t-f-option',{ref:\"modal\",attrs:{\"ws\":_vm.workspace}})],1),_c('b-col',{staticClass:\"has-board\",attrs:{\"cols\":\"9\"}},[_c('b-tabs',[_c('b-tab',{attrs:{\"title\":\"Logfiles\",\"active\":\"\"}},[_c('pre',{domProps:{\"innerHTML\":_vm._s(_vm.trainLog)}})]),(_vm.tenserBoard)?_c('b-tab',{attrs:{\"title\":\"TensorBoard\"}},[_c('iframe',{attrs:{\"src\":_vm.tenserBoard}})]):_vm._e()],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-modal',{ref:\"modal\",attrs:{\"size\":\"md\",\"title\":\"AI Settings\"},on:{\"shown\":_vm.onOpen},scopedSlots:_vm._u([{key:\"modal-footer\",fn:function(){return [_c('b-button',{attrs:{\"variant\":\"primary\"},on:{\"click\":_vm.saveFile}},[_vm._v(\"Save\")])]},proxy:true}])},[(!_vm.canEditConfigAIUI)?[_c('div',{staticStyle:{\"height\":\"400px\"},attrs:{\"id\":\"wsjsoneditor\"}})]:_vm._l((_vm.schemas),function(schema){return _c('s-field',{key:((schema.field) + \"-\" + _vm.fetchCount),attrs:{\"schema\":schema,\"value\":_vm.data[schema.field]},on:{\"input\":function($event){_vm.data[schema.field] = $event}}})})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <b-modal v-on:shown=\"onOpen\" size=\"md\" ref=\"modal\" title=\"AI Settings\">\n    <template v-if=\"!canEditConfigAIUI\">\n      <div id=\"wsjsoneditor\" style=\"height: 400px;\"/>\n    </template>\n    <template v-else>\n      <s-field v-for=\"schema in schemas\" :key=\"`${schema.field}-${fetchCount}`\"\n               :schema=\"schema\" :value=\"data[schema.field]\"\n               @input=\"data[schema.field] = $event\"/>\n    </template>\n    <template v-slot:modal-footer>\n      <b-button variant=\"primary\" @click=\"saveFile\">Save</b-button>\n    </template>\n  </b-modal>\n</template>\n\n<script>\nimport { mapGetters } from 'vuex'\nimport axios from 'axios'\nimport api from '@/utils/api'\nimport { getFileServerPath } from '@/utils'\nimport JSONEditor from 'jsoneditor'\nimport * as types from './field/data_types'\nimport SField from './field/Index.vue'\n\nexport default {\n  name: 'TFOption',\n  components: {\n    's-field': SField,\n  },\n  props: {\n    ws: {\n      default: null,\n      type: String,\n    },\n  },\n  data() {\n    return {\n      schemas: [\n        {\n          label: 'Max Train Steps',\n          field: 'max_train_steps',\n          type: types.NUMBER,\n          options: {},\n        },\n        {\n          label: 'Training Classes',\n          field: 'classes',\n          type: types.T_ARRAY,\n          options: {},\n        },\n        {\n          label: 'Model directory',\n          field: 'model_dir',\n          type: types.TEXT,\n          options: {},\n        },\n        {\n          label: 'Batch Size',\n          field: 'batch_size',\n          type: types.NUMBER,\n          options: {},\n        },\n        {\n          label: 'Input width',\n          field: 'input_width',\n          type: types.NUMBER,\n          options: {},\n        },\n        {\n          label: 'Input height',\n          field: 'input_height',\n          type: types.NUMBER,\n          options: {},\n        },\n        {\n          label: 'Input depth',\n          field: 'input_depth',\n          type: types.NUMBER,\n          options: {},\n        },\n        {\n          label: 'Augmentation noise std',\n          field: 'augmentation_noise_std',\n          type: types.NUMBER,\n          options: {},\n        },\n        {\n          label: 'Augmentation brightness delta',\n          field: 'augmentation_brightness_delta',\n          type: types.NUMBER,\n          options: {},\n        },\n        {\n          label: 'Learning rate',\n          field: 'learning_rate',\n          type: types.NUMBER,\n          options: {},\n        },\n        {\n          label: 'Enable linear stretch images',\n          field: 'enable_linear_stretch_images',\n          type: types.BOOLEAN,\n          options: {},\n        },\n        {\n          label: 'Enable augmentation noise',\n          field: 'enable_augmentation_noise',\n          type: types.BOOLEAN,\n          options: {},\n        },\n        {\n          label: 'Enable augmentation mirror',\n          field: 'enable_augmentation_mirror',\n          type: types.BOOLEAN,\n          options: {},\n        },\n        {\n          label: 'Enable augmentation brigthness',\n          field: 'enable_augmentation_brigthness',\n          type: types.BOOLEAN,\n          options: {},\n        },\n        {\n          label: 'Rename',\n          field: 'rename',\n          type: types.BOOLEAN,\n          options: {},\n        },\n        {\n          label: 'Network architecture',\n          field: 'network_architecture',\n          type: types.TEXT,\n          options: {},\n        },\n        {\n          label: 'Good class',\n          field: 'good_class',\n          type: types.TEXT,\n          options: {},\n        },\n        {\n          label: 'Log every n steps',\n          field: 'log_every_n_steps',\n          type: types.NUMBER,\n          options: {},\n        },\n        {\n          label: 'Workspace path',\n          field: 'workspace',\n          type: types.TEXT,\n          options: {},\n        },\n        {\n          label: 'Train script name',\n          field: 'script_training',\n          type: types.TEXT,\n          options: {},\n        },\n        {\n          label: 'Test script name',\n          field: 'script_test',\n          type: types.TEXT,\n          options: {},\n        },\n        {\n          label: 'Validate script name',\n          field: 'script_validate',\n          type: types.TEXT,\n          options: {},\n        },\n        {\n          label: 'Stop train script name',\n          field: 'script_stop_train',\n          type: types.TEXT,\n          options: {},\n        },\n        {\n          label: 'Stop test script name',\n          field: 'script_stop_test',\n          type: types.TEXT,\n          options: {},\n        },\n        {\n          label: 'Stop validate script name',\n          field: 'script_stop_validate',\n          type: types.TEXT,\n          options: {},\n        },\n        {\n          label: 'Export model script name',\n          field: 'script_export_model',\n          type: types.TEXT,\n          options: {},\n        },\n        {\n          label: 'Export result script name',\n          field: 'script_export_result',\n          type: types.TEXT,\n          options: {},\n        },\n        {\n          label: 'Export images script name',\n          field: 'script_export_image',\n          type: types.TEXT,\n          options: {},\n        },\n        {\n          label: 'Create report script name',\n          field: 'script_report',\n          type: types.TEXT,\n          options: {},\n        },\n        {\n          label: 'split data script name',\n          field: 'script_split_data',\n          type: types.TEXT,\n          options: {},\n        },\n        {\n          label: 'Path to log training file',\n          field: 'path_log_training',\n          type: types.TEXT,\n          options: {},\n        },\n        {\n          label: 'Path to log test file',\n          field: 'path_log_test',\n          type: types.TEXT,\n          options: {},\n        },\n        {\n          label: 'Path to log validate file',\n          field: 'path_log_validate',\n          type: types.TEXT,\n          options: {},\n        },\n        {\n          label: 'Path to exported model file',\n          field: 'path_field_export_model',\n          type: types.TEXT,\n          options: {},\n        },\n        {\n          label: 'Path to exported results file',\n          field: 'path_field_export_results',\n          type: types.TEXT,\n          options: {},\n        },\n        {\n          label: 'Path to exported images folder',\n          field: 'path_field_export_images',\n          type: types.TEXT,\n          options: {},\n        },\n        {\n          label: 'Path to train folder',\n          field: 'path_train',\n          type: types.TEXT,\n          options: {},\n        },\n        {\n          label: 'Path to test folder',\n          field: 'path_test',\n          type: types.TEXT,\n          options: {},\n        },\n        {\n          label: 'Path to validate folder',\n          field: 'path_validate',\n          type: types.TEXT,\n          options: {},\n        },\n        {\n          label: 'The numbers of lines to be displayed',\n          field: 'ViewLogLines',\n          type: types.NUMBER,\n          options: {},\n        },\n        {\n          label: 'Default epoch',\n          field: 'defaultEpoch',\n          type: types.NUMBER,\n          options: {},\n        },\n        {\n          label: 'Default learning rate',\n          field: 'defaultLearningRate',\n          type: types.NUMBER,\n          options: {},\n        },\n        {\n          label: 'Tenser Board Url',\n          field: 'LiveViewURL',\n          type: types.TEXT,\n          options: {},\n        },\n      ],\n      data: {},\n      fields: {\n        max_train_steps: 0,\n        classes: [],\n        model_dir: '',\n        batch_size: 0,\n        input_width: 0,\n        input_height: 0,\n        input_depth: 0,\n        augmentation_noise_std: 0.0,\n        augmentation_brightness_delta: 0.0,\n        learning_rate: 0.0,\n        enable_linear_stretch_images: false,\n        enable_augmentation_noise: false,\n        enable_augmentation_mirror: false,\n        enable_augmentation_brigthness: false,\n        rename: false,\n        network_architecture: '',\n        good_class: '',\n        log_every_n_steps: 0,\n        workspace: '',\n        script_training: null,\n        script_test: null,\n        script_validate: null,\n        script_stop_training: null,\n        script_stop_test: null,\n        script_stop_validation: null,\n        script_export_model: null,\n        script_export_result: null,\n        script_export_image: null,\n        script_report: null,\n        script_split_data: null,\n        path_log_training: null,\n        path_log_test: null,\n        path_log_validate: null,\n        path_field_export_model: null,\n        path_field_export_results: null,\n        path_field_export_images: null,\n        path_train: null,\n        path_test: null,\n        path_validate: null,\n        defaultEpoch: null,\n        defaultLearningRate: null,\n        LiveViewURL: null,\n      },\n      fetchCount: 1,\n      editor: null,\n    }\n  },\n  methods: {\n    async loadFile() {\n      const ws = this.ws.split('/').pop()\n      const { data } = await axios.get(`${getFileServerPath()}${ws}/TFSettings.json`)\n      Object.keys(this.fields).forEach((field) => {\n        this.fields[field] = data[field] || this.fields[field]\n      })\n      this.fetchCount += 1\n      this.data = typeof data === 'object' ? data : {}\n      if (!this.canEditConfigAIUI) {\n        const container = document.getElementById('wsjsoneditor')\n        const options = {\n          mode: 'code',\n        }\n        const editor = new JSONEditor(container, options)\n        this.editor = editor\n        editor.set(this.data)\n      }\n    },\n    async saveFile() {\n      if (!this.canEditConfigAIUI && this.editor) {\n        this.data = this.editor.get()\n      }\n      const data = {\n        ...this.fields,\n        ...this.data,\n      }\n      const filePath = `${this.ws}/TFSettings.json`\n      await api.saveFile(filePath, JSON.stringify(data, null, 2))\n      this.$refs.modal.hide()\n    },\n    onOpen() {\n      this.loadFile()\n    },\n  },\n  computed: {\n    ...mapGetters([\n      'canEditConfigAIUI',\n    ]),\n  },\n}\n</script>\n\n<style scoped>\n\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./TFOption.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./TFOption.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TFOption.vue?vue&type=template&id=9d8c5718&scoped=true&\"\nimport script from \"./TFOption.vue?vue&type=script&lang=js&\"\nexport * from \"./TFOption.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"9d8c5718\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"\">\n    <b-row>\n      <b-col>\n        <div class=\"title-container\">\n          <div>\n            <h4>SVTrain v1.2</h4>\n          </div>\n        </div>\n        <div class=\"cmd-main-menu\">\n          <div>Workspace: <strong>{{ currentWs}}</strong></div>\n          <div v-if=\"running !== null\" v-html=\"running || 'idle'\"></div>\n          <b v-else>no info</b>\n          <b-button v-if=\"editConfigAI\" class=\"mt-2\" @click=\"showModal()\">\n            <v-icon name=\"cogs\"/>\n            <span class=\"ml-2\">Settings</span>\n          </b-button>\n          <div v-for=\"command in commands\" :key=\"command.value\" class=\"cmd\">\n            <b-button\n              class=\"svtrain-cmd-btn\"\n              :class=\"command.value === 'script_stop_training' ? 'btn-stop-command' : 'btn-command'\"\n              v-bind:disabled=\"!!isLoading[command.value] || command.value === 'script_stop_training' && !running || command.value !== 'script_stop_training' && !!running\"\n              v-on:click=\"runCommand(command.value, workspace)\">\n              <v-icon v-if=\"!command.icon\" v-bind:name=\"command.value === 'script_stop_training' ? 'stop' : 'play'\"/>\n              <svg-icon v-else :icon-class=\"command.icon\"></svg-icon>\n              <span class=\"ml-2\">{{command.label}}</span>\n            </b-button>\n            <span v-if=\"isLoading[command.value]\">Running...</span>\n            <pre\n              style=\"padding-left: 10px\"\n              v-if=\"logs[command.value] && logs[command.value].lastLine\"\n              class=\"log-line\"\n              @click=\"openLogsFor(command.value)\"\n              v-html=\"logs[command.value].lastLine\"/>\n            <div style=\"clear: both\"/>\n          </div>\n          <pre class=\"py-4\" v-html=\"logs.training.lastLine\"></pre>\n        </div>\n        <t-f-option ref=\"modal\" :ws=\"workspace\"/>\n      </b-col>\n      <b-col cols=\"9\" class=\"has-board\">\n        <b-tabs>\n          <b-tab title=\"Logfiles\" active>\n            <pre v-html=\"trainLog\"></pre>\n          </b-tab>\n          <b-tab v-if=\"tenserBoard\" title=\"TensorBoard\">\n            <iframe :src=\"tenserBoard\"></iframe>\n          </b-tab>\n        </b-tabs>\n      </b-col>\n    </b-row>\n  </div>\n</template>\n<script>\nimport axios from 'axios'\nimport { getFileServerPath } from '@/utils'\nimport TFOption from '@/components/TFOption'\nimport { mapGetters } from 'vuex'\nimport command from '../mixins/command'\nimport api from '../utils/api'\n\nexport default {\n  name: 'Train',\n  components: { TFOption },\n  mixins: [command],\n  data() {\n    return {\n      commands: [\n        {\n          value: 'script_split_data',\n          label: 'Run split data',\n          icon: 'split',\n        },\n        {\n          value: 'script_training',\n          label: 'Run train',\n        },\n        {\n          value: 'script_stop_training',\n          label: 'Stop running train',\n        },\n      ],\n      trainLog: null,\n      tenserBoard: null,\n    }\n  },\n  computed: {\n    ...mapGetters([\n      'editConfigAI',\n    ]),\n  },\n  methods: {\n    fetch() {\n      api.getLogFor('training').then((res) => {\n        this.trainLog = res\n      })\n      if (this.workspace) {\n        const ws = this.workspace.split('/').pop()\n        axios.get(`${getFileServerPath()}${ws}/TFSettings.json`).then(({ data }) => {\n          if (data) {\n            this.tenserBoard = data.LiveViewURL\n          }\n        })\n      }\n    },\n    showModal() {\n      this.$refs.modal.$refs.modal.show()\n    },\n  },\n  watch: {\n    workspace() {\n      this.fetch()\n    },\n  },\n  mounted() {\n    this.fetch()\n  },\n}\n</script>\n<style lang=\"scss\">\n.has-board {\n  .tab-content {\n    height: calc(100vh - 200px);\n    border-width: 1px;\n    border-style: solid;\n    border-color: transparent #dee2e6 #dee2e6;\n    padding: 16px;\n    overflow: auto;\n\n    .tab-pane,\n    iframe {\n      width: 100%;\n      height: 100%;\n    }\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./Train.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./Train.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Train.vue?vue&type=template&id=478d6cde&\"\nimport script from \"./Train.vue?vue&type=script&lang=js&\"\nexport * from \"./Train.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Train.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { mapGetters } from 'vuex'\nimport api from '../utils/api'\nimport socket from '../utils/socket.js'\n\nexport default {\n  data() {\n    return {\n      isLoading: {\n        statistic: false,\n        train: false,\n        test: false,\n        validate: false,\n        export: false,\n        stop: false,\n        ExportImages: false,\n      },\n      logs: {\n        training: {},\n        test: {},\n        validate: {},\n        export_model: null,\n        export_results: null,\n        export_images: null,\n      },\n      running: null,\n      workspace: null,\n      checkInterval: 750,\n      commands: [],\n      twoLogLines: null,\n      status: null,\n    }\n  },\n  computed: {\n    ...mapGetters(['currentWs']),\n  },\n  methods: {\n    openLogsFor(command) {\n      window.open(`/logs/${command}?sessionToken=${localStorage.getItem('sessionToken')}`)\n    },\n    async checkStatus() {\n      this.running = await api.getRunningState()\n    },\n    async checkWorkspace() {\n      this.workspace = await api.getWorkspace()\n      console.log(`Workspace: ${this.workspace}`)\n    },\n    async runCommand(command, ws) {\n      this.isLoading[command] = true\n      try {\n        await api.runCommand(command, ws)\n        await this.checkStatus()\n      } catch (e) {\n        console.log(e)\n      }\n      this.isLoading[command] = false\n    },\n  },\n  async created() {\n    this.sessionUser = localStorage.getItem('sessionUser')\n    await this.checkStatus()\n    await this.checkWorkspace()\n    this.logs = await api.getLastLogs()\n    socket.subscibeForFolder('lock.txt', (data) => {\n      if (data.event === 'unlink') {\n        this.running = false\n      }\n      if (data.event === 'change') {\n        this.running = data.content\n      }\n      this.isLoading.train = Boolean(this.running)\n      this.isLoading.test = Boolean(this.running)\n      this.isLoading.validate = Boolean(this.running)\n    })\n    socket.subscibeForFolder('workspace.bat', (data) => {\n      if (data.event === 'unlink') this.workspace = false\n      if (data.event === 'change') this.workspace = data.content\n    })\n    socket.subscribe('logfile', (obj) => {\n      obj.forEach((o) => {\n        if (o && this.logs[o.file]) {\n          this.logs[o.file].lastLine = o.lastLine\n        }\n      })\n    })\n    socket.subscribe('exportFile', (data) => {\n      Object.keys(data).forEach((key) => {\n        this.logs[key] = data[key]\n      })\n    })\n    socket.subscribe('lock.txt', (data) => {\n      if (data.event === 'unlink') this.running = false\n      if (data.event === 'change') this.running = data.content\n    })\n    socket.subscribe('workspace.bat', (data) => {\n      if (data.event === 'unlink') this.workspace = false\n      if (data.event === 'change') this.workspace = data.content\n    })\n    socket.subscribe('zipDone', (data) => {\n      this.logs[data.field] = data.path\n    })\n  },\n  async beforeDestroy() {\n    socket.unsubscribeForFolder('lock.txt')\n    socket.unsubscribeForFolder('workspace.bat')\n  },\n}\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./Train.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./Train.vue?vue&type=style&index=0&lang=scss&\"","export default function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}"],"sourceRoot":""}