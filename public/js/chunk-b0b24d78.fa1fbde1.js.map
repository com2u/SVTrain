{"version":3,"sources":["webpack:///./src/views/Train.vue?4423","webpack:///./src/components/TFOption.vue?81b5","webpack:///src/components/TFOption.vue","webpack:///./src/components/TFOption.vue?4f49","webpack:///./src/components/TFOption.vue","webpack:///src/views/Train.vue","webpack:///./src/views/Train.vue?f2c5","webpack:///./src/views/Train.vue","webpack:///./src/mixins/command.js","webpack:///./node_modules/@babel/runtime/helpers/esm/typeof.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_m","_v","_s","currentWs","running","domProps","on","$event","showModal","attrs","_e","_l","command","key","value","class","isLoading","runCommand","workspace","icon","label","logs","lastLine","staticStyle","openLogsFor","training","ref","staticRenderFns","onOpen","scopedSlots","_u","fn","saveFile","proxy","schema","fetchCount","data","field","name","components","props","ws","default","type","String","schemas","fields","max_train_steps","classes","model_dir","batch_size","input_width","input_height","input_depth","augmentation_noise_std","augmentation_brightness_delta","learning_rate","enable_linear_stretch_images","enable_augmentation_noise","enable_augmentation_mirror","enable_augmentation_brigthness","rename","network_architecture","good_class","log_every_n_steps","script_training","script_test","script_validate","script_stop_training","script_stop_test","script_stop_validation","script_export_model","script_export_result","script_export_image","script_report","script_split_data","path_log_training","path_log_test","path_log_validate","path_field_export_model","path_field_export_results","path_field_export_images","path_train","path_test","path_validate","defaultEpoch","defaultLearningRate","editorText","editor","methods","loadFile","component","mixins","commands","computed","$refs","modal","show","statistic","train","test","validate","export","stop","ExportImages","export_model","export_results","export_images","checkInterval","twoLogLines","status","mapGetters","window","open","localStorage","getItem","checkStatus","api","getRunningState","checkWorkspace","getWorkspace","console","log","created","sessionUser","getLastLogs","socket","subscibeForFolder","event","content","Boolean","subscribe","obj","forEach","o","file","Object","keys","path","beforeDestroy","unsubscribeForFolder","_typeof","Symbol","iterator","constructor","prototype"],"mappings":"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","file":"js/chunk-b0b24d78.fa1fbde1.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container-fluid\"},[_vm._m(0),_c('div',{staticClass:\"cmd-main-menu\"},[_c('div',[_vm._v(\"Workspace: \"),_c('strong',[_vm._v(_vm._s(_vm.currentWs))])]),(_vm.running !== null)?_c('div',{domProps:{\"innerHTML\":_vm._s(_vm.running || 'idle')}}):_c('b',[_vm._v(\"no info\")]),(_vm.editConfigAI)?_c('b-button',{staticClass:\"mt-2\",on:{\"click\":function($event){return _vm.showModal()}}},[_c('v-icon',{attrs:{\"name\":\"cogs\"}}),_c('span',{staticClass:\"ml-2\"},[_vm._v(\"Settings\")])],1):_vm._e(),_vm._l((_vm.commands),function(command){return _c('div',{key:command.value,staticClass:\"cmd\"},[_c('b-button',{staticClass:\"svtrain-cmd-btn\",class:command.value === 'script_stop_training' ? 'btn-stop-command' : 'btn-command',attrs:{\"disabled\":!!_vm.isLoading[command.value] || command.value === 'script_stop_training' && !_vm.running || command.value !== 'script_stop_training' && !!_vm.running},on:{\"click\":function($event){return _vm.runCommand(command.value, _vm.workspace)}}},[(!command.icon)?_c('v-icon',{attrs:{\"name\":command.value === 'script_stop_training' ? 'stop' : 'play'}}):_c('svg-icon',{attrs:{\"icon-class\":command.icon}}),_c('span',{staticClass:\"ml-2\"},[_vm._v(_vm._s(command.label))])],1),(_vm.isLoading[command.value])?_c('span',[_vm._v(\"Running...\")]):_vm._e(),(_vm.logs[command.value] && _vm.logs[command.value].lastLine)?_c('pre',{staticClass:\"log-line\",staticStyle:{\"padding-left\":\"10px\"},domProps:{\"innerHTML\":_vm._s(_vm.logs[command.value].lastLine)},on:{\"click\":function($event){return _vm.openLogsFor(command.value)}}}):_vm._e(),_vm._v(\" \"),_c('div',{staticStyle:{\"clear\":\"both\"}})],1)}),_c('pre',{staticClass:\"py-4\",domProps:{\"innerHTML\":_vm._s(_vm.logs.training.lastLine)}})],2),_c('t-f-option',{ref:\"modal\",attrs:{\"ws\":_vm.workspace}})],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"title-container\"},[_c('div',[_c('h4',[_vm._v(\"SVTrain v1.2\")])])])}]\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-modal',{ref:\"modal\",attrs:{\"size\":\"md\",\"title\":\"AI Settings\"},on:{\"shown\":_vm.onOpen},scopedSlots:_vm._u([{key:\"modal-footer\",fn:function(){return [_c('b-button',{attrs:{\"variant\":\"primary\"},on:{\"click\":_vm.saveFile}},[_vm._v(\"Save\")])]},proxy:true}])},[(_vm.editorText)?[_c('div',{staticStyle:{\"height\":\"400px\"},attrs:{\"id\":\"wsjsoneditor\"}})]:_vm._l((_vm.schemas),function(schema){return _c('s-field',{key:((schema.field) + \"-\" + _vm.fetchCount),attrs:{\"schema\":schema,\"value\":_vm.data[schema.field]},on:{\"input\":function($event){_vm.data[schema.field] = $event}}})})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <b-modal v-on:shown=\"onOpen\" size=\"md\" ref=\"modal\" title=\"AI Settings\">\n    <template v-if=\"editorText\">\n      <div id=\"wsjsoneditor\" style=\"height: 400px;\"/>\n    </template>\n    <template v-else>\n      <s-field v-for=\"schema in schemas\" :key=\"`${schema.field}-${fetchCount}`\"\n               :schema=\"schema\" :value=\"data[schema.field]\"\n               @input=\"data[schema.field] = $event\"/>\n    </template>\n    <template v-slot:modal-footer>\n      <b-button variant=\"primary\" @click=\"saveFile\">Save</b-button>\n    </template>\n  </b-modal>\n</template>\n\n<script>\nimport axios from 'axios'\nimport api from '@/utils/api'\nimport { getFileServerPath } from '@/utils'\nimport JSONEditor from 'jsoneditor'\nimport * as types from './field/data_types'\nimport SField from './field/Index.vue'\n\nexport default {\n  name: 'TFOption',\n  components: {\n    's-field': SField,\n  },\n  props: {\n    ws: {\n      default: null,\n      type: String,\n    },\n  },\n  data() {\n    return {\n      schemas: [\n        {\n          label: 'Default epoch',\n          field: 'defaultEpoch',\n          type: types.NUMBER,\n          options: {\n            help: 'A default setting for the training mechanism.',\n          },\n        },\n        {\n          label: 'Default learning rate',\n          field: 'defaultLearningRate',\n          type: types.NUMBER,\n          options: {\n            help: 'A default setting for the training mechanism.',\n          },\n        },\n        {\n          label: 'Train script name',\n          field: 'script_training',\n          type: types.TEXT,\n          options: { help: 'script_training' },\n        },\n        {\n          label: 'Test script name',\n          field: 'script_test',\n          type: types.TEXT,\n          options: { help: 'script_test' },\n        },\n        {\n          label: 'Validate script name',\n          field: 'script_validate',\n          type: types.TEXT,\n          options: { help: 'script_validate' },\n        },\n        {\n          label: 'Stop train script name',\n          field: 'script_stop_train',\n          type: types.TEXT,\n          options: { help: 'script_stop_train' },\n        },\n        {\n          label: 'Stop test script name',\n          field: 'script_stop_test',\n          type: types.TEXT,\n          options: { help: 'script_stop_test' },\n        },\n        {\n          label: 'Stop validate script name',\n          field: 'script_stop_validate',\n          type: types.TEXT,\n          options: { help: 'script_stop_validate' },\n        },\n        {\n          label: 'Export model script name',\n          field: 'script_export_model',\n          type: types.TEXT,\n          options: { help: 'script_export_model' },\n        },\n        {\n          label: 'Export result script name',\n          field: 'script_export_result',\n          type: types.TEXT,\n          options: { help: 'script_export_result' },\n        },\n        {\n          label: 'Export images script name',\n          field: 'script_export_image',\n          type: types.TEXT,\n          options: { help: 'script_export_image' },\n        },\n        {\n          label: 'Create report script name',\n          field: 'script_report',\n          type: types.TEXT,\n          options: { help: 'script_report' },\n        },\n        {\n          label: 'split data script name',\n          field: 'script_split_data',\n          type: types.TEXT,\n          options: { help: 'script_split_data' },\n        },\n        {\n          label: 'Path to log training file',\n          field: 'path_log_training',\n          type: types.TEXT,\n          options: { help: 'path_log_training' },\n        },\n        {\n          label: 'Path to log test file',\n          field: 'path_log_test',\n          type: types.TEXT,\n          options: { help: 'path_log_test' },\n        },\n        {\n          label: 'Path to log validate file',\n          field: 'path_log_validate',\n          type: types.TEXT,\n          options: { help: 'path_log_validate' },\n        },\n        {\n          label: 'Path to exported model file',\n          field: 'path_field_export_model',\n          type: types.TEXT,\n          options: { help: 'path_file_export_model' },\n        },\n        {\n          label: 'Path to exported results file',\n          field: 'path_field_export_results',\n          type: types.TEXT,\n          options: { help: 'path_file_export_results' },\n        },\n        {\n          label: 'Path to exported images folder',\n          field: 'path_field_export_images',\n          type: types.TEXT,\n          options: { help: 'path_file_export_images' },\n        },\n        {\n          label: 'Path to train folder',\n          field: 'path_train',\n          type: types.TEXT,\n          options: { help: 'path_train' },\n        },\n        {\n          label: 'Path to test folder',\n          field: 'path_test',\n          type: types.TEXT,\n          options: { help: 'path_test' },\n        },\n        {\n          label: 'Path to validate folder',\n          field: 'path_validate',\n          type: types.TEXT,\n          options: { help: 'path_validate' },\n        },\n        {\n          label: 'The numbers of lines to be displayed',\n          field: 'ViewLogLines',\n          type: types.NUMBER,\n          options: { help: 'ViewLogLines' },\n        },\n      ],\n      data: {},\n      fields: {\n        max_train_steps: 0,\n        classes: [],\n        model_dir: '',\n        batch_size: 0,\n        input_width: 0,\n        input_height: 0,\n        input_depth: 0,\n        augmentation_noise_std: 0.0,\n        augmentation_brightness_delta: 0.0,\n        learning_rate: 0.0,\n        enable_linear_stretch_images: false,\n        enable_augmentation_noise: false,\n        enable_augmentation_mirror: false,\n        enable_augmentation_brigthness: false,\n        rename: false,\n        network_architecture: '',\n        good_class: '',\n        log_every_n_steps: 0,\n        workspace: '',\n        script_training: null,\n        script_test: null,\n        script_validate: null,\n        script_stop_training: null,\n        script_stop_test: null,\n        script_stop_validation: null,\n        script_export_model: null,\n        script_export_result: null,\n        script_export_image: null,\n        script_report: null,\n        script_split_data: null,\n        path_log_training: null,\n        path_log_test: null,\n        path_log_validate: null,\n        path_field_export_model: null,\n        path_field_export_results: null,\n        path_field_export_images: null,\n        path_train: null,\n        path_test: null,\n        path_validate: null,\n        defaultEpoch: null,\n        defaultLearningRate: null,\n      },\n      fetchCount: 1,\n      editorText: true,\n      editor: null,\n    }\n  },\n  methods: {\n    async loadFile() {\n      const ws = this.ws.split('/').pop()\n      const { data } = await axios.get(`${getFileServerPath()}${ws}/TFSettings.json`)\n      Object.keys(this.fields).forEach((field) => {\n        this.fields[field] = data[field] || this.fields[field]\n      })\n      this.fetchCount += 1\n      this.data = typeof data === 'object' ? data : {}\n      if (this.editorText) {\n        const container = document.getElementById('wsjsoneditor')\n        const options = {\n          mode: 'code',\n        }\n        const editor = new JSONEditor(container, options)\n        this.editor = editor\n        editor.set(this.data)\n      }\n    },\n    async saveFile() {\n      if (this.editorText && this.editor) {\n        this.data = this.editor.get()\n      }\n      const data = {\n        ...this.fields,\n        ...this.data,\n      }\n      const filePath = `${this.ws}/TFSettings.json`\n      await api.saveFile(filePath, JSON.stringify(data, null, 2))\n      this.$refs.modal.hide()\n    },\n    onOpen() {\n      this.loadFile()\n    },\n  },\n}\n</script>\n\n<style scoped>\n\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./TFOption.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./TFOption.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TFOption.vue?vue&type=template&id=3c3e8be1&scoped=true&\"\nimport script from \"./TFOption.vue?vue&type=script&lang=js&\"\nexport * from \"./TFOption.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3c3e8be1\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"container-fluid\">\n    <div class=\"title-container\">\n      <div>\n        <h4>SVTrain v1.2</h4>\n      </div>\n    </div>\n    <div class=\"cmd-main-menu\">\n      <div>Workspace: <strong>{{ currentWs}}</strong></div>\n      <div v-if=\"running !== null\" v-html=\"running || 'idle'\"></div>\n      <b v-else>no info</b>\n      <b-button v-if=\"editConfigAI\" class=\"mt-2\" @click=\"showModal()\">\n        <v-icon name=\"cogs\"/>\n        <span class=\"ml-2\">Settings</span>\n      </b-button>\n      <div v-for=\"command in commands\" :key=\"command.value\" class=\"cmd\">\n        <b-button\n          class=\"svtrain-cmd-btn\"\n          :class=\"command.value === 'script_stop_training' ? 'btn-stop-command' : 'btn-command'\"\n          v-bind:disabled=\"!!isLoading[command.value] || command.value === 'script_stop_training' && !running || command.value !== 'script_stop_training' && !!running\"\n          v-on:click=\"runCommand(command.value, workspace)\">\n          <v-icon v-if=\"!command.icon\" v-bind:name=\"command.value === 'script_stop_training' ? 'stop' : 'play'\"/>\n          <svg-icon v-else :icon-class=\"command.icon\"></svg-icon>\n          <span class=\"ml-2\">{{command.label}}</span>\n        </b-button>\n        <span v-if=\"isLoading[command.value]\">Running...</span>\n        <pre\n          style=\"padding-left: 10px\"\n          v-if=\"logs[command.value] && logs[command.value].lastLine\"\n          class=\"log-line\"\n          @click=\"openLogsFor(command.value)\"\n          v-html=\"logs[command.value].lastLine\"/>\n        <div style=\"clear: both\"/>\n      </div>\n      <pre class=\"py-4\" v-html=\"logs.training.lastLine\"></pre>\n    </div>\n    <t-f-option ref=\"modal\" :ws=\"workspace\"/>\n  </div>\n</template>\n<script>\nimport TFOption from '@/components/TFOption'\nimport { mapGetters } from 'vuex'\nimport command from '../mixins/command'\n\nexport default {\n  name: 'Train',\n  components: { TFOption },\n  mixins: [command],\n  data() {\n    return {\n      commands: [\n        {\n          value: 'script_split_data',\n          label: 'Run split data',\n          icon: 'split',\n        },\n        {\n          value: 'script_training',\n          label: 'Run train',\n        },\n        {\n          value: 'script_stop_training',\n          label: 'Stop running train',\n        },\n      ],\n    }\n  },\n  computed: {\n    ...mapGetters([\n      'editConfigAI',\n    ]),\n  },\n  methods: {\n    showModal() {\n      this.$refs.modal.$refs.modal.show()\n    },\n  },\n}\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./Train.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./Train.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Train.vue?vue&type=template&id=37b98036&\"\nimport script from \"./Train.vue?vue&type=script&lang=js&\"\nexport * from \"./Train.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { mapGetters } from 'vuex'\nimport api from '../utils/api'\nimport socket from '../utils/socket.js'\n\nexport default {\n  data() {\n    return {\n      isLoading: {\n        statistic: false,\n        train: false,\n        test: false,\n        validate: false,\n        export: false,\n        stop: false,\n        ExportImages: false,\n      },\n      logs: {\n        training: {},\n        test: {},\n        validate: {},\n        export_model: null,\n        export_results: null,\n        export_images: null,\n      },\n      running: null,\n      workspace: null,\n      checkInterval: 750,\n      commands: [],\n      twoLogLines: null,\n      status: null,\n    }\n  },\n  computed: {\n    ...mapGetters(['currentWs']),\n  },\n  methods: {\n    openLogsFor(command) {\n      window.open(`/logs/${command}?sessionToken=${localStorage.getItem('sessionToken')}`)\n    },\n    async checkStatus() {\n      this.running = await api.getRunningState()\n    },\n    async checkWorkspace() {\n      this.workspace = await api.getWorkspace()\n      console.log(`Workspace: ${this.workspace}`)\n    },\n    async runCommand(command, ws) {\n      this.isLoading[command] = true\n      try {\n        await api.runCommand(command, ws)\n        await this.checkStatus()\n      } catch (e) {\n        console.log(e)\n      }\n      this.isLoading[command] = false\n    },\n  },\n  async created() {\n    this.sessionUser = localStorage.getItem('sessionUser')\n    await this.checkStatus()\n    await this.checkWorkspace()\n    this.logs = await api.getLastLogs()\n    socket.subscibeForFolder('lock.txt', (data) => {\n      if (data.event === 'unlink') {\n        this.running = false\n      }\n      if (data.event === 'change') {\n        this.running = data.content\n      }\n      this.isLoading.train = Boolean(this.running)\n      this.isLoading.test = Boolean(this.running)\n      this.isLoading.validate = Boolean(this.running)\n    })\n    socket.subscibeForFolder('workspace.bat', (data) => {\n      if (data.event === 'unlink') this.workspace = false\n      if (data.event === 'change') this.workspace = data.content\n    })\n    socket.subscribe('logfile', (obj) => {\n      obj.forEach((o) => {\n        if (o && this.logs[o.file]) {\n          this.logs[o.file].lastLine = o.lastLine\n        }\n      })\n    })\n    socket.subscribe('exportFile', (data) => {\n      Object.keys(data).forEach((key) => {\n        this.logs[key] = data[key]\n      })\n    })\n    socket.subscribe('lock.txt', (data) => {\n      if (data.event === 'unlink') this.running = false\n      if (data.event === 'change') this.running = data.content\n    })\n    socket.subscribe('workspace.bat', (data) => {\n      if (data.event === 'unlink') this.workspace = false\n      if (data.event === 'change') this.workspace = data.content\n    })\n    socket.subscribe('zipDone', (data) => {\n      this.logs[data.field] = data.path\n    })\n  },\n  async beforeDestroy() {\n    socket.unsubscribeForFolder('lock.txt')\n    socket.unsubscribeForFolder('workspace.bat')\n  },\n}\n","export default function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}"],"sourceRoot":""}