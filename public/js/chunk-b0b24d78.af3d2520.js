(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b0b24d78"],{"198f":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container-fluid"},[t._m(0),n("div",{staticClass:"cmd-main-menu"},[n("div",[t._v("Workspace: "),n("strong",[t._v(t._s(t.currentWs))])]),null!==t.running?n("div",{domProps:{innerHTML:t._s(t.running||"idle")}}):n("b",[t._v("no info")]),t.editConfigAI?n("b-button",{staticClass:"mt-2",on:{click:function(e){return t.showModal()}}},[n("v-icon",{attrs:{name:"cogs"}}),n("span",{staticClass:"ml-2"},[t._v("Settings")])],1):t._e(),t._l(t.commands,(function(e){return n("div",{key:e.value,staticClass:"cmd"},[n("b-button",{staticClass:"svtrain-cmd-btn",class:"script_stop_training"===e.value?"btn-stop-command":"btn-command",attrs:{disabled:!!t.isLoading[e.value]||"script_stop_training"===e.value&&!t.running||"script_stop_training"!==e.value&&!!t.running},on:{click:function(n){return t.runCommand(e.value,t.workspace)}}},[n("v-icon",{attrs:{name:"script_stop_training"===e.value?"stop":"play"}}),n("span",{staticClass:"ml-2"},[t._v(t._s(e.label))])],1),t.isLoading[e.value]?n("span",[t._v("Running...")]):t._e(),t.logs[e.value]&&t.logs[e.value].lastLine?n("pre",{staticClass:"log-line",staticStyle:{"padding-left":"10px"},domProps:{innerHTML:t._s(t.logs[e.value].lastLine)},on:{click:function(n){return t.openLogsFor(e.value)}}}):t._e(),t._v(" "),n("div",{staticStyle:{clear:"both"}})],1)})),n("pre",{staticClass:"py-4",domProps:{innerHTML:t._s(t.logs.training.lastLine)}})],2),n("t-f-option",{ref:"modal",attrs:{ws:t.workspace}})],1)},i=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"title-container"},[n("div",[n("h4",[t._v("SVTrain v0.10")])])])}],r=n("5530"),s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-modal",{ref:"modal",attrs:{size:"md",title:"AI Settings"},on:{shown:t.onOpen},scopedSlots:t._u([{key:"modal-footer",fn:function(){return[n("b-button",{attrs:{variant:"primary"},on:{click:t.saveFile}},[t._v("Save")])]},proxy:!0}])},[t.editorText?[n("div",{staticStyle:{height:"400px"},attrs:{id:"wsjsoneditor"}})]:t._l(t.schemas,(function(e){return n("s-field",{key:e.field+"-"+t.fetchCount,attrs:{schema:e,value:t.data[e.field]},on:{input:function(n){t.data[e.field]=n}}})}))],2)},o=[],l=(n("99af"),n("4160"),n("b64b"),n("ac1f"),n("1276"),n("159b"),n("53ca")),c=(n("96cf"),n("1da1")),p=n("bc3a"),u=n.n(p),d=n("7c15"),_=n("ed08"),f=n("dcf5"),g=n.n(f),h=n("2b25"),m=n("77f4"),b={name:"TFOption",components:{"s-field":m["a"]},props:{ws:{default:null,type:String}},data:function(){return{schemas:[{label:"Default epoch",field:"defaultEpoch",type:h["NUMBER"],options:{help:"A default setting for the training mechanism."}},{label:"Default learning rate",field:"defaultLearningRate",type:h["NUMBER"],options:{help:"A default setting for the training mechanism."}},{label:"Train script name",field:"script_training",type:h["TEXT"],options:{help:"script_training"}},{label:"Test script name",field:"script_test",type:h["TEXT"],options:{help:"script_test"}},{label:"Validate script name",field:"script_validate",type:h["TEXT"],options:{help:"script_validate"}},{label:"Stop train script name",field:"script_stop_train",type:h["TEXT"],options:{help:"script_stop_train"}},{label:"Stop test script name",field:"script_stop_test",type:h["TEXT"],options:{help:"script_stop_test"}},{label:"Stop validate script name",field:"script_stop_validate",type:h["TEXT"],options:{help:"script_stop_validate"}},{label:"Export model script name",field:"script_export_model",type:h["TEXT"],options:{help:"script_export_model"}},{label:"Export result script name",field:"script_export_result",type:h["TEXT"],options:{help:"script_export_result"}},{label:"Export images script name",field:"script_export_image",type:h["TEXT"],options:{help:"script_export_image"}},{label:"Create report script name",field:"script_report",type:h["TEXT"],options:{help:"script_report"}},{label:"split data script name",field:"script_split_data",type:h["TEXT"],options:{help:"script_split_data"}},{label:"Path to log training file",field:"path_log_training",type:h["TEXT"],options:{help:"path_log_training"}},{label:"Path to log test file",field:"path_log_test",type:h["TEXT"],options:{help:"path_log_test"}},{label:"Path to log validate file",field:"path_log_validate",type:h["TEXT"],options:{help:"path_log_validate"}},{label:"Path to exported model file",field:"path_file_export_model",type:h["TEXT"],options:{help:"path_file_export_model"}},{label:"Path to exported results file",field:"path_file_export_results",type:h["TEXT"],options:{help:"path_file_export_results"}},{label:"Path to exported images folder",field:"path_file_export_images",type:h["TEXT"],options:{help:"path_file_export_images"}},{label:"Path to train folder",field:"path_train",type:h["TEXT"],options:{help:"path_train"}},{label:"Path to test folder",field:"path_test",type:h["TEXT"],options:{help:"path_test"}},{label:"Path to validate folder",field:"path_validate",type:h["TEXT"],options:{help:"path_validate"}}],data:{},fields:{max_train_steps:0,classes:[],model_dir:"",batch_size:0,input_width:0,input_height:0,input_depth:0,augmentation_noise_std:0,augmentation_brightness_delta:0,learning_rate:0,enable_linear_stretch_images:!1,enable_augmentation_noise:!1,enable_augmentation_mirror:!1,enable_augmentation_brigthness:!1,rename:!1,network_architecture:"",good_class:"",log_every_n_steps:0,workspace:"",script_training:null,script_test:null,script_validate:null,script_stop_training:null,script_stop_test:null,script_stop_validation:null,script_export_model:null,script_export_result:null,script_export_image:null,script_report:null,script_split_data:null,path_log_training:null,path_log_test:null,path_log_validate:null,path_field_export_model:null,path_field_export_results:null,path_field_export_images:null,path_train:null,path_test:null,path_validate:null,defaultEpoch:null,defaultLearningRate:null},fetchCount:1,editorText:!0,editor:null}},methods:{loadFile:function(){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function e(){var n,a,i,r,s,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.ws.split("/").pop(),e.next=3,u.a.get("".concat(Object(_["a"])()).concat(n,"/TFSettings.json"));case 3:a=e.sent,i=a.data,Object.keys(t.fields).forEach((function(e){t.fields[e]=i[e]||t.fields[e]})),t.fetchCount+=1,t.data="object"===Object(l["a"])(i)?i:{},t.editorText&&(r=document.getElementById("wsjsoneditor"),s={mode:"code"},o=new g.a(r,s),t.editor=o,o.set(t.data));case 9:case"end":return e.stop()}}),e)})))()},saveFile:function(){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function e(){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.editorText&&t.editor&&(t.data=t.editor.get()),n=Object(r["a"])({},t.fields,{},t.data),a="".concat(t.ws,"/TFSettings.json"),e.next=5,d["a"].saveFile(a,JSON.stringify(n,null,2));case 5:t.$refs.modal.hide();case 6:case"end":return e.stop()}}),e)})))()},onOpen:function(){this.loadFile()}}},v=b,x=n("0c7c"),T=Object(x["a"])(v,s,o,!1,null,"5010f918",null),w=T.exports,k=n("2f62"),y=n("1fd3"),E={name:"Train",components:{TFOption:w},mixins:[y["a"]],data:function(){return{commands:[{value:"script_split_data",label:"Run split data"},{value:"script_training",label:"Run train"},{value:"script_stop_training",label:"Stop running train"}]}},computed:Object(r["a"])({},Object(k["b"])(["editConfigAI"])),methods:{showModal:function(){this.$refs.modal.$refs.modal.show()}}},S=E,j=Object(x["a"])(S,a,i,!1,null,null,null);e["default"]=j.exports},"1fd3":function(t,e,n){"use strict";n("99af"),n("4160"),n("b64b"),n("159b"),n("96cf");var a=n("1da1"),i=n("5530"),r=n("2f62"),s=n("7c15"),o=n("29b2");e["a"]={data:function(){return{isLoading:{statistic:!1,train:!1,test:!1,validate:!1,export:!1,stop:!1,ExportImages:!1},logs:{training:{},test:{},validate:{},export_model:null,export_results:null,export_images:null},running:null,workspace:null,checkInterval:750,commands:[],twoLogLines:null,status:null}},computed:Object(i["a"])({},Object(r["b"])(["currentWs"])),methods:{openLogsFor:function(t){window.open("/logs/".concat(t,"?sessionToken=").concat(localStorage.getItem("sessionToken")))},checkStatus:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,s["a"].getRunningState();case 2:t.running=e.sent;case 3:case"end":return e.stop()}}),e)})))()},checkWorkspace:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,s["a"].getWorkspace();case 2:t.workspace=e.sent,console.log("Workspace: ".concat(t.workspace));case 4:case"end":return e.stop()}}),e)})))()},runCommand:function(t,e){var n=this;return Object(a["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n.isLoading[t]=!0,a.prev=1,a.next=4,s["a"].runCommand(t,e);case 4:return a.next=6,n.checkStatus();case 6:a.next=11;break;case 8:a.prev=8,a.t0=a["catch"](1),console.log(a.t0);case 11:n.isLoading[t]=!1;case 12:case"end":return a.stop()}}),a,null,[[1,8]])})))()}},created:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.sessionUser=localStorage.getItem("sessionUser"),e.next=3,t.checkStatus();case 3:return e.next=5,t.checkWorkspace();case 5:return e.next=7,s["a"].getLastLogs();case 7:t.logs=e.sent,o["a"].subscibeForFolder("lock.txt",(function(e){"unlink"===e.event&&(t.running=!1),"change"===e.event&&(t.running=e.content)})),o["a"].subscibeForFolder("workspace.bat",(function(e){"unlink"===e.event&&(t.workspace=!1),"change"===e.event&&(t.workspace=e.content)})),o["a"].subscribe("logfile",(function(e){e.forEach((function(e){e&&t.logs[e.file]&&(t.logs[e.file].lastLine=e.lastLine)}))})),o["a"].subscribe("exportFile",(function(e){Object.keys(e).forEach((function(n){t.logs[n]=e[n]}))})),o["a"].subscribe("lock.txt",(function(e){"unlink"===e.event&&(t.running=!1),"change"===e.event&&(t.running=e.content)})),o["a"].subscribe("workspace.bat",(function(e){"unlink"===e.event&&(t.workspace=!1),"change"===e.event&&(t.workspace=e.content)})),o["a"].subscribe("zipDone",(function(e){t.logs[e.field]=e.path}));case 15:case"end":return e.stop()}}),e)})))()},beforeDestroy:function(){return Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:o["a"].unsubscribeForFolder("lock.txt"),o["a"].unsubscribeForFolder("workspace.bat");case 2:case"end":return t.stop()}}),t)})))()}}},"53ca":function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));n("a4d3"),n("e01a"),n("d28b"),n("e260"),n("d3b7"),n("3ca3"),n("ddb0");function a(t){return a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}}}]);
//# sourceMappingURL=chunk-b0b24d78.af3d2520.js.map