(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5813d042"],{"0117":function(e,t,n){"use strict";var i=n("96cf7"),r=n.n(i);r.a},"0eb1":function(e,t,n){"use strict";var i=n("ff5a"),r=n.n(i);r.a},"2af1":function(e,t,n){var i=n("23e7"),r=n("f748");i({target:"Math",stat:!0},{sign:r})},"2ca0":function(e,t,n){"use strict";var i=n("23e7"),r=n("06cf").f,a=n("50c4"),s=n("5a34"),l=n("1d80"),o=n("ab13"),c=n("c430"),u="".startsWith,d=Math.min,f=o("startsWith"),h=!c&&!f&&!!function(){var e=r(String.prototype,"startsWith");return e&&!e.writable}();i({target:"String",proto:!0,forced:!h&&!f},{startsWith:function(e){var t=String(l(this));s(e);var n=a(d(arguments.length>1?arguments[1]:void 0,t.length)),i=String(e);return u?u.call(t,i,n):t.slice(n,n+i.length)===i}})},"2ddb":function(e,t,n){},"45fc":function(e,t,n){"use strict";var i=n("23e7"),r=n("b727").some,a=n("a640"),s=n("ae40"),l=a("some"),o=s("some");i({target:"Array",proto:!0,forced:!l||!o},{some:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}})},"466d":function(e,t,n){"use strict";var i=n("d784"),r=n("825a"),a=n("50c4"),s=n("1d80"),l=n("8aa5"),o=n("14c3");i("match",1,(function(e,t,n){return[function(t){var n=s(this),i=void 0==t?void 0:t[e];return void 0!==i?i.call(t,n):new RegExp(t)[e](String(n))},function(e){var i=n(t,e,this);if(i.done)return i.value;var s=r(e),c=String(this);if(!s.global)return o(s,c);var u=s.unicode;s.lastIndex=0;var d,f=[],h=0;while(null!==(d=o(s,c))){var p=String(d[0]);f[h]=p,""===p&&(s.lastIndex=l(c,a(s.lastIndex),u)),h++}return 0===h?null:f}]}))},"5e89":function(e,t,n){var i=n("861d"),r=Math.floor;e.exports=function(e){return!i(e)&&isFinite(e)&&r(e)===e}},"66b1":function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-modal",{ref:"modal",attrs:{id:e.id,title:"Create a folder","ok-title":"Create","ok-disabled":!e.isValid},on:{ok:e.createFolder,hidden:e.handleHidden,shown:e.handleShown}},[n("b-form",{on:{submit:function(e){e.preventDefault()}}},[n("b-form-group",{attrs:{label:"Name","label-for":"folder-name","invalid-feedback":"Name is required",state:e.isValid}},[n("b-form-input",{ref:"folderName",attrs:{state:e.isValid,trim:""},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleEnter(t)}},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}})],1)],1)],1)},r=[],a=(n("b0c0"),n("96cf"),n("1da1")),s=n("7c15"),l=n("c75e"),o={name:"CreatingFolder",props:{path:{required:!0,default:function(){return""}},id:{type:String,default:"creating-folder-modal"}},data:function(){return{name:null,modal:null,createPath:this.path}},computed:{isValid:function(){return null===this.name?this.name:!!this.name}},methods:{createFolder:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,s["a"].createFolder(e.createPath,e.name);case 2:e.$emit("folder-created"),e.name=null;case 4:case"end":return t.stop()}}),t)})))()},handleEnter:function(){var e=this;this.createFolder().then((function(){e.$refs.modal.hide()}))},handleHidden:function(e){this.$emit("hidden",e)},handleShown:function(e){this.$refs.folderName.focus(),this.$emit("shown",e)},onCreateNewFolder:function(e){this.createPath=e,this.$refs.modal.show()}},mounted:function(){l["a"].$on("create-new-folder",this.onCreateNewFolder)},destroyed:function(){l["a"].$off("create-new-folder")}},c=o,u=n("2877"),d=Object(u["a"])(c,i,r,!1,null,null,null);t["a"]=d.exports},"7db0":function(e,t,n){"use strict";var i=n("23e7"),r=n("b727").find,a=n("44d2"),s=n("ae40"),l="find",o=!0,c=s(l);l in[]&&Array(1)[l]((function(){o=!1})),i({target:"Array",proto:!0,forced:o||!c},{find:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),a(l)},8365:function(e,t,n){},"8ba4":function(e,t,n){var i=n("23e7"),r=n("5e89");i({target:"Number",stat:!0},{isInteger:r})},"96cf7":function(e,t,n){},a15b:function(e,t,n){"use strict";var i=n("23e7"),r=n("44ad"),a=n("fc6a"),s=n("a640"),l=[].join,o=r!=Object,c=s("join",",");i({target:"Array",proto:!0,forced:o||!c},{join:function(e){return l.call(a(this),void 0===e?",":e)}})},b500:function(e,t,n){},ba99:function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("file-explorer",{key:e.$route.fullPath,attrs:{dir:e.dir}})],1)},r=[],a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"keyupevents",tabindex:"0"},on:{keyup:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"space",32,t.key,[" ","Spacebar"])||t.target!==t.currentTarget||t.ctrlKey||t.altKey||t.metaKey?null:t.shiftKey?e.selectCurrent(!0):null},function(t){return t.type.indexOf("key")||107===t.keyCode?t.target!==t.currentTarget||t.ctrlKey||t.shiftKey||t.altKey||t.metaKey?null:e.zoomIn(!0):null},function(t){return t.type.indexOf("key")||187===t.keyCode?t.target!==t.currentTarget||t.ctrlKey||t.shiftKey||t.altKey||t.metaKey?null:e.zoomIn(!0):null},function(t){return t.type.indexOf("key")||109===t.keyCode?t.target!==t.currentTarget||t.ctrlKey||t.shiftKey||t.altKey||t.metaKey?null:e.zoomOut(!0):null},function(t){return t.type.indexOf("key")||189===t.keyCode?t.target!==t.currentTarget||t.ctrlKey||t.shiftKey||t.altKey||t.metaKey?null:e.zoomOut(!0):null},function(t){return t.target!==t.currentTarget||t.ctrlKey||t.shiftKey||t.altKey||t.metaKey?null:(t.stopPropagation(),t.preventDefault(),e.onKeyUp(t))}]}},[n("div",{attrs:{tabindex:"0"}}),n("window-splitting",{ref:"WindowSplitting",scopedSlots:e._u([{key:"side",fn:function(){return[n("div",{staticClass:"right-side-section"},[n("div",{staticClass:"section-item"},[n("svg-icon",{directives:[{name:"b-popover",rawName:"v-b-popover.hover.html.top",value:"<b>-</b>",expression:"'<b>-</b>'",modifiers:{hover:!0,html:!0,top:!0}}],staticClass:"section-icon",attrs:{title:"Shortcut","icon-class":"zoom-out"},on:{click:e.zoomOut}}),n("svg-icon",{directives:[{name:"b-popover",rawName:"v-b-popover.hover.html.top",value:"<b>+</b>",expression:"'<b>+</b>'",modifiers:{hover:!0,html:!0,top:!0}}],staticClass:"section-icon",attrs:{title:"Shortcut","icon-class":"zoom-in"},on:{click:e.zoomIn}}),n("svg-icon",{staticClass:"section-icon",attrs:{"icon-class":"info"},on:{click:e.showShortcutsModal}}),n("b-button",{staticClass:"statistic-btn",attrs:{disabled:!e.canViewStatistics},on:{click:e.showStatistic}},[n("b-icon",{attrs:{icon:"bar-chart-fill"}}),n("span",[e._v(" Statistic")])],1)],1),e.imageViewer?n("div",{staticClass:"image-viewer-ctn"},[n("b-button",{attrs:{variant:"primary",disabled:!e.viewerImages.length},on:{click:e.showImageViewer}},[e._v("Show selected images")])],1):e._e()]),e.systemConfig.moveMenu?n("div",{staticClass:"right-side-section"},[e._v(" Selected files count: "+e._s(e.selectedFiles.length)),n("br"),n("br"),e.selectedFiles.length>0&&e.canSeeMoveMenu?n("div",[e.forwardOnly&&0===e.nextFolders.length?n("div",[n("div",[e._v(" Please confirm images that show a/an ")]),n("div",{staticClass:"link-current-folder"},[e._v(e._s(e.relativeDir))])]):n("span",[e._v(" Please select images and move them to the according defect class ")]),e.isLoading.moving?n("span",[n("v-icon",{attrs:{name:"spinner"}}),e._v(" (Moving...)")],1):e._e(),e._v(": "),n("div",{staticClass:"next-folders"},[e._l(e.nextFolders,(function(t){return n("div",{key:t.path,on:{click:function(n){return e.moveFiles(t.path)}}},[e.showNavigationIcon?n("span",[t.icon?n("img",{staticClass:"next-folders-icon",attrs:{src:""+e.staticServer+t.icon,alt:"icon"}}):n("span",[n("svg-icon",{attrs:{"icon-class":"unknown"}})],1)]):e._e(),n("span",{staticClass:"folder-name",style:{fontSize:e.fontSize}},[e._v(e._s(t.name))])])})),n("div",[e.showNavigationIcon?n("span",[n("svg-icon",{attrs:{"icon-class":"delete"}})],1):e._e(),n("span",{staticClass:"folder-name",style:{fontSize:e.fontSize},on:{click:function(t){return e.deleteFiles()}}},[e._v(" Delete image(s) ")])])],2)]):n("div",[e._v(" (select one or more files for show control buttons) ")])]):e._e(),"right"===e.systemConfig.forwardLocaltion?n("div",{staticClass:"right-side-section"},[n("div",{staticClass:"pagination-group"},[e.forwardOnly?[n("b-button",{directives:[{name:"b-popover",rawName:"v-b-popover.hover.html.top",value:"<b>PageDown</b>",expression:"'<b>PageDown</b>'",modifiers:{hover:!0,html:!0,top:!0}}],staticClass:"confirm-btn",attrs:{title:"Shortcut",variant:"primary",size:"sm"},on:{click:function(t){return e.forward()}}},[e.showNavigationIcon?n("b-icon",{attrs:{icon:"folder-fill"}}):e._e(),e._v(" Confirm ")],1)]:[n("b-button",{directives:[{name:"b-popover",rawName:"v-b-popover.hover.html.top",value:"<b>PageUp</b>",expression:"'<b>PageUp</b>'",modifiers:{hover:!0,html:!0,top:!0}}],attrs:{title:"Shortcut",variant:"primary",size:"sm"},on:{click:function(t){return e.backward()}}},[n("b-icon",{attrs:{icon:"chevron-left"}}),e._v(" Backward ")],1),n("b-button",{directives:[{name:"b-popover",rawName:"v-b-popover.hover.html.top",value:"<b>PageDown</b>",expression:"'<b>PageDown</b>'",modifiers:{hover:!0,html:!0,top:!0}}],staticStyle:{"margin-left":"10px"},attrs:{title:"Shortcut",variant:"primary",size:"sm"},on:{click:function(t){return e.forward()}}},[e._v("Forward "),n("b-icon",{attrs:{icon:"chevron-right"}})],1)]],2)]):e._e()]},proxy:!0},{key:"main",fn:function(){return[n("div",[n("div",[n("strong",[e._v(e._s(e.relativeDir))])]),e.systemConfig.newFolder&&e.newFolder?n("div",[n("new-folder-button",{nativeOn:{click:function(t){return e.createNewFolder(t)}}})],1):e._e(),n("div",{staticClass:"list-folders"},e._l(e.folder.folders,(function(t){return n("span",{key:t.path},[t.shortcut?n("file",{directives:[{name:"b-popover",rawName:"v-b-popover.hover.html.top",value:"<b>"+t.shortcut+"</b>",expression:"`<b>${file.shortcut}</b>`",modifiers:{hover:!0,html:!0,top:!0}}],staticClass:"folder",attrs:{title:"Shortcut",file:t},nativeOn:{click:function(n){return e.goToTheFolder(t)}}}):n("file",{staticClass:"folder",attrs:{file:t},nativeOn:{click:function(n){return e.goToTheFolder(t)}}})],1)})),0)]),n("div",{staticClass:"file-explorer-grid bottom-border"}),"top"===e.systemConfig.forwardLocaltion?n("div",[n("div",{staticClass:"pagination-group"},[e.forwardOnly?e._e():n("b-button",{attrs:{variant:"primary",size:"sm"},on:{click:function(t){return e.backward()}}},[n("b-icon",{attrs:{icon:"chevron-left"}}),e._v(" Backward ")],1),n("b-button",{attrs:{variant:"primary",size:"sm"},on:{click:function(t){return e.forward()}}},[e._v("Forward "),n("b-icon",{attrs:{icon:"chevron-right"}})],1)],1)]):e._e(),n("div",{staticClass:"file-explorer-grid"},e._l(e.screenFiles,(function(t,i){return n("file",{directives:[{name:"b-popover",rawName:"v-b-popover.hover.html.top",value:i<10?"<b>"+(i+1)%10+"</b>":null,expression:"index < 10 ? `<b>${(index + 1) % 10}</b>` : null",modifiers:{hover:!0,html:!0,top:!0}}],key:t.path,attrs:{title:i<10?"Shortcut":null,"show-file-name":e.showFileName,id:"file_"+t.path,file:t,size:e.fileSize},nativeOn:{click:function(n){return e.setCursorAndSelect(t,n)},dblclick:function(n){return e.openFile(t)}}})})),1)]},proxy:!0}])}),e.viewingFile?n("show-file",{ref:"FileViewing",attrs:{file:e.viewingFile},on:{shown:e.onOpenModal,hidden:e.onCloseModal}}):e._e(),n("creating-folder",{attrs:{path:e.openedPath||e.path},on:{"folder-created":e.onFolderCreated,shown:e.onOpenModal,hidden:e.onCloseModal}}),n("b-modal",{attrs:{title:"Shortcuts",size:"lg"},scopedSlots:e._u([{key:"modal-footer",fn:function(){return[n("span")]},proxy:!0}]),model:{value:e.showShortcuts,callback:function(t){e.showShortcuts=t},expression:"showShortcuts"}},[n("div",[n("b-row",[n("b-col",e._l(e.shortCuts.left,(function(t){return n("div",{key:t.label,staticClass:"shortcut-item"},[n("div",[e._v(e._s(t.label))]),n("div",{staticClass:"shortcut-btn"},e._l(t.keys,(function(t){return n("span",{key:t},[e._v(e._s(t))])})),0)])})),0),n("b-col",e._l(e.shortCuts.right,(function(t){return n("div",{key:t.label,staticClass:"shortcut-item"},[n("div",[e._v(e._s(t.label))]),n("div",{staticClass:"shortcut-btn"},e._l(t.keys,(function(t){return n("span",{key:t},[e._v(e._s(t))])})),0)])})),0)],1)],1)]),n("v-gallery",{attrs:{images:e.viewerImages,index:e.viewerIndex},on:{close:function(t){e.viewerIndex=null}}})],1)},s=[],l=(n("99af"),n("4de4"),n("7db0"),n("c740"),n("caad"),n("c975"),n("d81d"),n("fb6a"),n("a434"),n("b0c0"),n("2af1"),n("a9e3"),n("8ba4"),n("2532"),n("2ca0"),n("2909")),o=(n("96cf"),n("1da1")),c=n("5530"),u=n("2f62"),d=n("ed08"),f=n("7c15"),h=n("29b2"),p=n("c75e"),g=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"file-explorer-item",class:{cursor:e.file.cursor,selected:e.file.selected},style:e.imageStyles,attrs:{id:e.file.path}},[e.file.deleted||e.file.changed?[e._v(" "+e._s(e.file.deleted?"File deleted":"File changed")+" ")]:["file"===e.file.type?[e.file.image?[n("div",[n("img",{staticClass:"file-explorer-preview",class:"fit"===e.imageFit?"image-fit":"image-fill",style:{width:e.size-15+"px",height:e.size-15+"px"},attrs:{src:e.file.serverPath}})])]:"tfsettings.json"===e.file.name.toLowerCase()?[n("v-icon",{staticClass:"text-primary",attrs:{name:"cogs",scale:"2"}})]:[n("v-icon",{attrs:{name:"file",scale:"2"}})]]:[n("v-icon",{attrs:{name:"folder",scale:"2"}})]]],2),e.showFileName?n("span",{staticClass:"file-explorer-file-name",class:{missmatched:!e.file.match&&e.file.image,matched:e.file.match&&e.file.image,other:!e.file.image},style:{width:e.size+"px"}},[e._v(" "+e._s(e.file.name)+" ")]):e._e()])},m=[],_={props:{file:Object,size:[String,Number],showFileName:{type:Boolean,default:!0}},computed:Object(c["a"])({},Object(u["b"])(["imageSpacing","imageFit"]),{imageStyles:function(){return{width:"".concat(this.size,"px"),height:"".concat(this.size,"px"),marginBottom:"".concat(this.imageSpacing,"px"),marginRight:"".concat(this.imageSpacing,"px")}}})},b=_,v=n("2877"),w=Object(v["a"])(b,g,m,!1,null,null,null),y=w.exports,k=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-modal",{ref:"modal",attrs:{"hide-footer":"",size:"lg"},on:{hidden:e.onHidden,shown:e.onShown}},[e.fileType===e.types.image?n("ShowImage",{attrs:{file:e.file}}):e._e(),e.fileType===e.types.json?n("ShowJSON",{attrs:{file:e.file},on:{saved:e.closeModal}}):e._e(),e.fileType===e.types.tfsettings?n("ShowTFSettings",{attrs:{file:e.file},on:{saved:e.closeModal}}):e._e(),e.fileType===e.types.unsupported?n("div",[e._v(" Files with that type aren't supported ")]):e._e()],1)},x=[],F=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"image-viewing"},[n("b-form-input",{attrs:{type:"range"},model:{value:e.imageWidth,callback:function(t){e.imageWidth=t},expression:"imageWidth"}}),n("b-img",{staticClass:"image",style:{width:e.imageWidth+"%"},attrs:{src:e.file.serverPath,fluid:""}}),n("div",[e._v(e._s(e.file.path))]),n("div",[e._v(e._s(e.file.name))])],1)},S=[],C={name:"ShowImage",props:{file:{type:Object,required:!0}},data:function(){return{imageWidth:70}}},O=C,P=(n("0eb1"),Object(v["a"])(O,F,S,!1,null,"052fc0c6",null)),z=P.exports,$=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.file?n("div",[n("b-form",{on:{submit:function(e){e.preventDefault()}}},[n("b-form-textarea",{ref:"textarea",attrs:{rows:"10"},on:{state:e.isValidJSON},model:{value:e.content,callback:function(t){e.content=t},expression:"content"}}),n("br"),n("b-form-invalid-feedback",{attrs:{state:e.isValidJSON}},[e._v(" There are should be a valid JSON string in the input. ")]),n("br"),n("b-button",{attrs:{variant:"success",disabled:!e.isValidJSON},on:{click:e.submit}},[e._v("Save")])],1)],1):e._e()},I=[],j=n("bc3a"),M=n.n(j),R={name:"ShowJSON",props:{file:{type:Object,required:!0}},data:function(){return{content:""}},methods:{loadFile:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,M.a.get(e.file.serverPath);case 2:n=t.sent,e.content=JSON.stringify(n.data,null,2);case 4:case"end":return t.stop()}}),t)})))()},submit:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.isValidJSON||alert("There are should be a valid JSON string in the input!"),t.next=3,f["a"].saveFile(e.file.path,e.content);case 3:e.$emit("saved");case 4:case"end":return t.stop()}}),t)})))()}},computed:{isValidJSON:function(){try{JSON.parse(this.content)}catch(e){return!1}return!0}},mounted:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.loadFile();case 2:console.log(e.$refs.textarea.$el),e.$refs.textarea.$el.focus();case 4:case"end":return t.stop()}}),t)})))()}},N=R,T=Object(v["a"])(N,$,I,!1,null,null,null),W=T.exports,B=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-form",{on:{submit:function(e){e.preventDefault()}}},[n("b-form-group",{attrs:{state:null===e.errors.max_train_steps&&null,"invalid-feedback":e.errors.max_train_steps,label:e.titles.max_train_steps,"label-cols-sm":"4","label-cols-lg":"3","label-for":"max_train_steps"}},[n("b-form-input",{attrs:{id:"max_train_steps",state:null===e.errors.max_train_steps&&null,type:"number",name:"max_train_steps"},on:{input:e.validateMaxTrainSteps},model:{value:e.fields.max_train_steps,callback:function(t){e.$set(e.fields,"max_train_steps",t)},expression:"fields.max_train_steps"}})],1),n("b-form-group",{attrs:{state:null===e.errors.classes&&null,"invalid-feedback":e.errors.classes,label:e.titles.classes,"label-cols-sm":"4","label-cols-lg":"3","label-for":"classes"}},[n("tags-input",{attrs:{"element-id":"classes","only-existing-tags":!0,typeahead:!0,"existing-tags":e.existing_classes},model:{value:e.fields.classes,callback:function(t){e.$set(e.fields,"classes",t)},expression:"fields.classes"}}),n("b-button",{attrs:{variant:"link"},on:{click:e.loadSubfoldersForClasses}},[e._v("Load subfolders")])],1),n("b-form-group",{attrs:{state:null===e.errors.model_dir&&null,"invalid-feedback":e.errors.model_dir,label:e.titles.model_dir,"label-cols-sm":"4","label-cols-lg":"3","label-for":"model_dir"}},[n("b-form-input",{attrs:{id:"model_dir",type:"text",state:null===e.errors.model_dir&&null,name:"model_dir"},on:{change:e.validateModelDir},model:{value:e.fields.model_dir,callback:function(t){e.$set(e.fields,"model_dir",t)},expression:"fields.model_dir"}}),n("b-button",{attrs:{variant:"link"},on:{click:function(t){return e.setCurrentFolderFor("model_dir")}}},[e._v("Set current folder")])],1),n("b-form-group",{attrs:{state:null===e.errors.path_to_dataset_training&&null,"invalid-feedback":e.errors.path_to_dataset_training,label:e.titles.path_to_dataset_training,"label-cols-sm":"4","label-cols-lg":"3","label-for":"path_to_dataset_training"}},[n("b-form-input",{attrs:{id:"path_to_dataset_training",type:"text",state:null===e.errors.model_dir&&null,name:"path_to_dataset_training"},on:{change:e.validatePathToDatasetTraining},model:{value:e.fields.path_to_dataset_training,callback:function(t){e.$set(e.fields,"path_to_dataset_training",t)},expression:"fields.path_to_dataset_training"}}),n("b-button",{attrs:{variant:"link"},on:{click:function(t){return e.setCurrentFolderFor("path_to_dataset_training")}}},[e._v("Set current folder")])],1),n("b-form-group",{attrs:{label:e.titles.path_to_dataset_validation,state:null===e.errors.path_to_dataset_validation&&null,"invalid-feedback":e.errors.path_to_dataset_validation,"label-cols-sm":"4","label-cols-lg":"3","label-for":"path_to_dataset_validation"}},[n("b-form-input",{attrs:{id:"path_to_dataset_validation",type:"text",state:null===e.errors.path_to_dataset_training&&null,name:"path_to_dataset_validation"},on:{change:e.validatePathToDatasetValidation},model:{value:e.fields.path_to_dataset_validation,callback:function(t){e.$set(e.fields,"path_to_dataset_validation",t)},expression:"fields.path_to_dataset_validation"}}),n("b-button",{attrs:{variant:"link"},on:{click:function(t){return e.setCurrentFolderFor("path_to_dataset_validation")}}},[e._v("Set current folder")])],1),n("b-form-group",{attrs:{label:e.titles.batch_size,"label-cols-sm":"4",state:null===e.errors.batch_size&&null,"invalid-feedback":e.errors.batch_size,"label-cols-lg":"3","label-for":"batch_size"}},[n("b-form-input",{attrs:{id:"batch_size",type:"number",state:null===e.errors.batch_size&&null,name:"batch_size"},on:{input:function(t){e.errors.batch_size=e.validateInteger(e.fields.batch_size)}},model:{value:e.fields.batch_size,callback:function(t){e.$set(e.fields,"batch_size",t)},expression:"fields.batch_size"}})],1),n("b-form-group",{attrs:{state:null===e.errors.input_width&&null,"invalid-feedback":e.errors.input_width,label:e.titles.input_width,"label-cols-sm":"4","label-cols-lg":"3","label-for":"input_width"}},[n("b-form-input",{attrs:{id:"input_width",type:"number",state:null===e.errors.input_width&&null,name:"input_width"},on:{input:function(t){e.errors.input_width=e.validateInteger(e.fields.input_width)}},model:{value:e.fields.input_width,callback:function(t){e.$set(e.fields,"input_width",t)},expression:"fields.input_width"}})],1),n("b-form-group",{attrs:{state:null===e.errors.input_height&&null,"invalid-feedback":e.errors.input_height,label:e.titles.input_height,"label-cols-sm":"4","label-cols-lg":"3","label-for":"input_height"}},[n("b-form-input",{attrs:{state:null===e.errors.input_height&&null,id:"input_height",type:"number",name:"input_height"},on:{input:function(t){e.errors.input_height=e.validateInteger(e.fields.input_height)}},model:{value:e.fields.input_height,callback:function(t){e.$set(e.fields,"input_height",t)},expression:"fields.input_height"}})],1),n("b-form-group",{attrs:{state:null===e.errors.input_depth&&null,"invalid-feedback":e.errors.input_depth,label:e.titles.input_depth,"label-cols-sm":"4","label-cols-lg":"3","label-for":"input_depth"}},[n("b-form-input",{attrs:{state:null===e.errors.input_depth&&null,id:"input_depth",type:"number",name:"input_depth"},on:{input:function(t){e.errors.input_depth=e.validateInteger(e.fields.input_depth)}},model:{value:e.fields.input_depth,callback:function(t){e.$set(e.fields,"input_depth",t)},expression:"fields.input_depth"}})],1),n("b-form-group",{attrs:{state:null===e.errors.augmentation_noise_std&&null,"invalid-feedback":e.errors.augmentation_noise_std,label:e.titles.augmentation_noise_std,"label-cols-sm":"4","label-cols-lg":"3","label-for":"augmentation_noise_std"}},[n("b-form-input",{attrs:{state:null===e.errors.augmentation_noise_std&&null,id:"augmentation_noise_std",type:"number",step:"0.01",name:"augmentation_noise_std"},on:{input:function(t){e.errors.augmentation_noise_std=e.validateFloat(e.fields.augmentation_noise_std)}},model:{value:e.fields.augmentation_noise_std,callback:function(t){e.$set(e.fields,"augmentation_noise_std",t)},expression:"fields.augmentation_noise_std"}})],1),n("b-form-group",{attrs:{state:null===e.errors.augmentation_brightness_delta&&null,"invalid-feedback":e.errors.augmentation_brightness_delta,label:e.titles.augmentation_brightness_delta,"label-cols-sm":"4","label-cols-lg":"3","label-for":"augmentation_brightness_delta"}},[n("b-form-input",{attrs:{state:null===e.errors.augmentation_brightness_delta&&null,id:"augmentation_brightness_delta",type:"number",step:"0.1",name:"augmentation_brightness_delta"},on:{input:function(t){e.errors.augmentation_brightness_delta=e.validateFloat(e.fields.augmentation_brightness_delta)}},model:{value:e.fields.augmentation_brightness_delta,callback:function(t){e.$set(e.fields,"augmentation_brightness_delta",t)},expression:"fields.augmentation_brightness_delta"}})],1),n("b-form-group",{attrs:{state:null===e.errors.learning_rate&&null,"invalid-feedback":e.errors.learning_rate,label:e.titles.learning_rate,"label-cols-sm":"4","label-cols-lg":"3","label-for":"learning_rate"}},[n("b-form-input",{attrs:{id:"learning_rate",type:"number",step:"0.01",state:null===e.errors.learning_rate&&null,name:"learning_rate"},on:{input:function(t){e.errors.learning_rate=e.validateFloat(e.fields.learning_rate)}},model:{value:e.fields.learning_rate,callback:function(t){e.$set(e.fields,"learning_rate",t)},expression:"fields.learning_rate"}})],1),n("b-form-group",{attrs:{label:e.titles.enable_linear_stretch_images,"label-cols-sm":"4","label-cols-lg":"3","label-for":"enable_linear_stretch_images"}},[n("b-form-checkbox",{attrs:{id:"enable_linear_stretch_images",name:"enable_linear_stretch_images"},model:{value:e.fields.enable_linear_stretch_images,callback:function(t){e.$set(e.fields,"enable_linear_stretch_images",t)},expression:"fields.enable_linear_stretch_images"}})],1),n("b-form-group",{attrs:{label:e.titles.enable_augmentation_noise,"label-cols-sm":"4","label-cols-lg":"3","label-for":"enable_augmentation_noise"}},[n("b-form-checkbox",{attrs:{id:"enable_augmentation_noise",name:"enable_augmentation_noise"},model:{value:e.fields.enable_augmentation_noise,callback:function(t){e.$set(e.fields,"enable_augmentation_noise",t)},expression:"fields.enable_augmentation_noise"}})],1),n("b-form-group",{attrs:{label:e.titles.enable_augmentation_mirror,"label-cols-sm":"4","label-cols-lg":"3","label-for":"enable_augmentation_mirror"}},[n("b-form-checkbox",{attrs:{id:"enable_augmentation_mirror",name:"enable_augmentation_mirror"},model:{value:e.fields.enable_augmentation_mirror,callback:function(t){e.$set(e.fields,"enable_augmentation_mirror",t)},expression:"fields.enable_augmentation_mirror"}})],1),n("b-form-group",{attrs:{label:e.titles.enable_augmentation_brightness,"label-cols-sm":"4","label-cols-lg":"3","label-for":"enable_augmentation_brightness"}},[n("b-form-checkbox",{attrs:{id:"enable_augmentation_brightness",name:"enable_augmentation_brightness"},model:{value:e.fields.enable_augmentation_brightness,callback:function(t){e.$set(e.fields,"enable_augmentation_brightness",t)},expression:"fields.enable_augmentation_brightness"}})],1),n("b-form-group",{attrs:{label:e.titles.rename,"label-cols-sm":"4","label-cols-lg":"3","label-for":"rename"}},[n("b-form-checkbox",{attrs:{id:"rename",name:"rename"},model:{value:e.fields.rename,callback:function(t){e.$set(e.fields,"rename",t)},expression:"fields.rename"}})],1),n("b-form-group",{attrs:{label:e.titles.network_architecture,"label-cols-sm":"4","label-cols-lg":"3","label-for":"network_architecture"}},[n("b-form-input",{attrs:{id:"network_architecture",type:"text",name:"network_architecture"},model:{value:e.fields.network_architecture,callback:function(t){e.$set(e.fields,"network_architecture",t)},expression:"fields.network_architecture"}})],1),n("b-form-group",{attrs:{label:e.titles.good_class,"label-cols-sm":"4","label-cols-lg":"3","label-for":"good_class"}},[n("b-form-input",{attrs:{id:"good_class",type:"text",name:"good_class"},model:{value:e.fields.good_class,callback:function(t){e.$set(e.fields,"good_class",t)},expression:"fields.good_class"}})],1),n("b-form-group",{attrs:{state:null===e.errors.log_every_n_steps&&null,"invalid-feedback":e.errors.log_every_n_steps,label:e.titles.log_every_n_steps,"label-cols-sm":"4","label-cols-lg":"3","label-for":"log_every_n_steps"}},[n("b-form-input",{attrs:{state:null===e.errors.log_every_n_steps&&null,id:"log_every_n_steps",type:"number",name:"log_every_n_steps"},on:{input:function(t){e.errors.log_every_n_steps=e.validateInteger(e.fields.log_every_n_steps)}},model:{value:e.fields.log_every_n_steps,callback:function(t){e.$set(e.fields,"log_every_n_steps",t)},expression:"fields.log_every_n_steps"}})],1),n("b-form-group",{attrs:{label:e.titles.workspace,"label-cols-sm":"4","label-cols-lg":"3","label-for":"workspace"}},[n("b-form-input",{attrs:{id:"workspace",type:"text",readonly:"",name:"workspace"},model:{value:e.fields.workspace,callback:function(t){e.$set(e.fields,"workspace",t)},expression:"fields.workspace"}})],1),n("b-button",{attrs:{variant:"success",disabled:e.hasErrors},on:{click:e.saveFile}},[e._v("Save")])],1)},E=[];n("4160"),n("a15b"),n("45fc"),n("b64b"),n("ac1f"),n("466d"),n("1276"),n("159b"),n("b500");function D(e){return"number"===typeof e?e%1===0:"string"===typeof e&&/^\d+$/.test(e)}function L(e){return"string"===typeof e&&/^[\d.]+$/.test(e)}function K(e){return!e.includes("\\")}function V(e){if(K(e)){var t=e.split("/");return t.splice(t.length-1,1),t.join("/")}var n=e.split("\\");return n.splice(n.length-1,1),n.join("\\")}function J(e){if(K(e)){var t=e.split("/");return t[t.length-1]}return e.match(/[^\\/:*?"<>|\r\n]+$/)[0]}function U(e){return"train"===J(e)}function A(e){return"validate"===J(e)}var q={name:"ShowTFSettings",props:{file:{type:Object,required:!0}},data:function(){return{originalJSON:"",parseInt:["max_train_steps","batch_size","input_width","input_height","input_depth","log_every_n_steps"],parseFloat:["augmentation_noise_std","augmentation_brightness_delta","learning_rate"],existing_classes:{Boden:"Boden",Bubble:"Bubble",Bubble2:"Bubble2",Flocke:"Flocke",Line:"Line",Particle1:"Particle1",Particle2:"Particle2",Raute:"Raute",Triangle:"Triangle",Vertex:"Vertex"},fields:{max_train_steps:0,classes:[],model_dir:"",path_to_dataset_training:"",path_to_dataset_validation:"",batch_size:0,input_width:0,input_height:0,input_depth:0,augmentation_noise_std:0,augmentation_brightness_delta:0,learning_rate:0,enable_linear_stretch_images:!1,enable_augmentation_noise:!1,enable_augmentation_mirror:!1,enable_augmentation_brigthness:!1,rename:!1,network_architecture:"",good_class:"",log_every_n_steps:0,workspace:""},errors:{max_train_steps:null,classes:null,model_dir:null,path_to_dataset_training:null,path_to_dataset_validation:null,batch_size:null,input_width:null,input_height:null,input_depth:null,augmentation_noise_std:null,augmentation_brightness_delta:null,learning_rate:null,enable_linear_stretch_images:null,enable_augmentation_noise:null,enable_augmentation_mirror:null,enable_augmentation_brigthness:null,rename:null,network_architecture:null,good_class:null,log_every_n_steps:null,workspace:null},titles:{max_train_steps:"Max train steps",classes:"Classes",model_dir:"Model directory",path_to_dataset_training:"Path to dataset training",path_to_dataset_validation:"Path to dataset validation",batch_size:"Batch size",input_width:"Input width",input_height:"Input height",input_depth:"Input depth",augmentation_noise_std:"Augmentation noise std",augmentation_brightness_delta:"Augmentation brightness delta",learning_rate:"Learning rate",enable_linear_stretch_images:"Enable linear stretch images",enable_augmentation_noise:"Enable augmentation noise",enable_augmentation_mirror:"Enable augmentation mirror",enable_augmentation_brightness:"Enable augmentation brightness",rename:"Rename",network_architecture:"Network architecture",good_class:"Good class",log_every_n_steps:"Log every N steps",workspace:"Workspace"}}},computed:{hasErrors:function(){var e=this;return Object.keys(this.errors).some((function(t){return e.errors[t]}))}},methods:{validateInteger:function(e){return D(e)?null:"The value must be an integer"},validateFloat:function(e){return L(e)?null:"The value must be a float number"},validateMaxTrainSteps:function(){this.errors.max_train_steps=this.validateInteger(this.fields.max_train_steps)},validateClasses:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var n,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,f["a"].getSubfolders(V(e.file.path));case 2:n=t.sent,i=e.fields.classes.find((function(e){return!n.includes(e)})),e.errors.classes=i?"Unsupported element ".concat(i):null;case 5:case"end":return t.stop()}}),t)})))()},validateModelDir:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,f["a"].checkFolder(e.fields.model_dir);case 2:n=t.sent,"ok"===n&&(e.errors.model_dir=null),"not_found"===n&&(e.errors.model_dir="That directory isn't found"),"access_denied"===n&&(e.errors.model_dir="The folder is out of the root directory");case 6:case"end":return t.stop()}}),t)})))()},validatePathToDatasetTraining:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(U(e.fields.path_to_dataset_training)){t.next=3;break}return e.errors.path_to_dataset_training="The directory must be a train directory",t.abrupt("return");case 3:return t.next=5,f["a"].checkFolder(e.fields.path_to_dataset_training);case 5:n=t.sent,"ok"===n&&(e.errors.path_to_dataset_training=null),"not_found"===n&&(e.errors.path_to_dataset_training="That directory isn't found"),"access_denied"===n&&(e.errors.path_to_dataset_training="The folder is out of the root directory");case 9:case"end":return t.stop()}}),t)})))()},validatePathToDatasetValidation:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(A(e.fields.path_to_dataset_validation)){t.next=3;break}return e.errors.path_to_dataset_validation="The directory must be a validate directory",t.abrupt("return");case 3:return t.next=5,f["a"].checkFolder(e.fields.path_to_dataset_validation);case 5:n=t.sent,"ok"===n&&(e.errors.path_to_dataset_validation=null),"not_found"===n&&(e.errors.path_to_dataset_validation="That directory isn't found"),"access_denied"===n&&(e.errors.path_to_dataset_validation="The folder is out of the root directory");case 9:case"end":return t.stop()}}),t)})))()},loadSubfoldersForClasses:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,f["a"].getSubfolders(V(e.file.path));case 2:n=t.sent,e.fields.classes=n;case 4:case"end":return t.stop()}}),t)})))()},setCurrentFolderFor:function(e){this.fields[e]=V(this.file.path)},loadFile:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var n,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,M.a.get(e.file.serverPath);case 2:n=t.sent,i=n.data,e.originalJSON=i,Object.keys(e.fields).forEach((function(t){e.fields[t]=i[t]||e.fields[t]}));case 6:case"end":return t.stop()}}),t)})))()},saveFile:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=Object(c["a"])({},e.originalJSON,{},e.fields),e.parseInt.forEach((function(e){n[e]=n[e]?parseInt(n[e]):n[e]})),e.parseFloat.forEach((function(e){n[e]=n[e]?parseFloat(n[e]):n[e]})),t.next=5,f["a"].saveFile(e.file.path,JSON.stringify(n,null,2));case 5:e.$emit("saved");case 6:case"end":return t.stop()}}),t)})))()}},created:function(){this.loadFile(),this.fields.workspace=V(this.file.path)}},H=q,X=Object(v["a"])(H,B,E,!1,null,null,null),Z=X.exports,G={name:"ShowFile",props:{file:{type:Object,required:!0}},components:{ShowImage:z,ShowJSON:W,ShowTFSettings:Z},data:function(){return{modal:null,types:{image:"image",json:"json",tfsettings:"tfsettings",unsupported:"unsupported"}}},methods:{show:function(){this.$refs.modal.show()},onShown:function(e){console.log("show file shown"),this.$emit("shown",e)},onHidden:function(e){console.log("show file hidden"),this.$emit("hidden",e)},closeModal:function(){this.$refs.modal.hide()}},computed:{fileType:function(){if("string"!==typeof this.file.path)return"unsupported";var e=this.file.path.toLowerCase(),t=/\.json$/,n=/tfsettings\.json$/,i=/\.(jpeg|jpg|gif|bmp|png)$/;return i.test(e)?this.types.image:n.test(e)?this.types.tfsettings:t.test(e)?this.types.json:this.types.unsupported}}},Q=G,Y=Object(v["a"])(Q,k,x,!1,null,"1d9c4ee8",null),ee=Y.exports,te=n("66b1"),ne=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"new-folder-button text-success"},[n("v-icon",{attrs:{name:"folder-plus",scale:"2"}}),n("span",{staticClass:"text"},[e._v("New Folder")])],1)},ie=[],re=(n("eed5"),{}),ae=Object(v["a"])(re,ne,ie,!1,null,"e4af127c",null),se=ae.exports,le=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"main-wrapper",on:{mousemove:e.onMouseMoveOnWrapper,mouseup:e.onMouseUpOnWrapper}},[n("div",{staticClass:"main-side",style:{paddingRight:e.displayedWidth+10+"px"}},[e._t("main")],2),n("div",{staticClass:"border",style:{right:e.displayedWidth+10+"px"},on:{mousedown:e.onMouseDownOnBorder,mouseup:function(t){return t.preventDefault(),e.onMouseUpOnBorder(t)}}}),n("div",{ref:"side",staticClass:"expand-side",style:{width:e.displayedWidth+"px"}},[e._t("side")],2)])},oe=[],ce={data:function(){return{originalSideWidth:null,sideWidth:null,resizing:!1,originalPageX:null}},computed:{configSideWidth:function(){var e=this.$store.state.app.config;return e.rightMenu&&e.rightMenu.width?(this.sideWidth=e.rightMenu.width,e.rightMenu.width):250},displayedWidth:function(){return this.sideWidth||this.configSideWidth}},methods:{onMouseUpOnWrapper:function(){this.resizing=!1},onMouseMoveOnWrapper:function(e){if(this.resizing){var t=this.originalPageX-e.pageX;this.sideWidth=this.originalSideWidth+t,this.sideWidth<250&&(this.sideWidth=250),this.sideWidth>1e3&&(this.sideWidth=1e3),e.preventDefault()}},onMouseDownOnBorder:function(e){this.resizing=!0,this.originalPageX=e.pageX,this.originalSideWidth=this.sideWidth},onMouseUpOnBorder:function(){this.resizing=!1},expand:function(){this.sideWidth=800},shrink:function(){this.sideWidth=250}}},ue=ce,de=(n("f282"),Object(v["a"])(ue,le,oe,!1,null,"7bed63b2",null)),fe=de.exports;function he(e){[32,37,38,39,40].indexOf(e.keyCode)>-1&&e.preventDefault()}var pe={props:["dir"],components:{File:y,ShowFile:ee,CreatingFolder:te["a"],NewFolderButton:se,WindowSplitting:fe},data:function(){return{viewerIndex:null,isLoading:{deleting:!1,moving:!1,statistic:!1},showShortcuts:!1,status:null,viewingFile:null,statisticShown:!1,fileSize:100,minFileSize:20,maxFileSize:1e3,page:0,page_count:null,perPage:10,staticServer:Object(d["a"])(),path:null,openedPath:null,moveDestination:null,nextFolders:[],statistic:{calculated:!1,matched:null,missed:null,missmatched:null,table:null},lastSelectedFileIndex:null,screenFiles:[],folder:{files:[],folders:[],total_file:0},createdFolders:[],selectedFiles:[],filter:{},shortCuts:{left:[{label:"Zoom In",keys:["-"]},{label:"Select/Unselect Image",keys:["Space"]},{label:"Move left",keys:["Left"]},{label:"Move up",keys:["Up"]},{label:"Backward",keys:["PageUp"]},{label:"Select image by index",keys:["1, 2, ...9, 0"]}],right:[{label:"Zoom Out",keys:["+"]},{label:"Multiple select",keys:["Shift","Space"]},{label:"Move right",keys:["Right"]},{label:"Move down",keys:["Down"]},{label:"Forward / Confirm",keys:["PageDown"]},{label:"Select folder by name",keys:["A-Z"]}]}}},computed:Object(c["a"])({viewerImages:function(){return this.selectedFiles.map((function(e){return e.serverPath}))},backgroundCalculating:function(){return this.$store.state.app.calculating},fontSize:function(){var e=this.systemConfig;return e.rightMenu&&e.rightMenu.fontSize?e.rightMenu.fontSize:"1rem"},configFilePerPage:function(){var e=this.systemConfig;return Number.isInteger(e.filePerPage)&&e.filePerPage>=0?e.filePerPage:0},forwardOnly:function(){return this.systemConfig.forwardOnly},showFileName:function(){return this.systemConfig.showFileName},systemConfig:function(){return this.$store.state.app.explorerConfig},defaultFileSize:function(){return this.systemConfig.defaultPictureSize},relativeDir:function(){var e=this.systemConfig.root;return this.dir&&e?this.dir.substring(e.length):this.dir}},Object(u["b"])(["newFolder","canViewStatistics","canSeeMoveMenu","imageViewer","showNavigationIcon"])),watch:{configFilePerPage:function(){this.configFilePerPage?this.perPage=this.configFilePerPage:this.perPage=100,this.calculatePage(this.page)},defaultFileSize:function(e){Number.isInteger(e)&&e>0&&(this.fileSize=e)}},mounted:function(){var e=this.defaultFileSize;Number.isInteger(e)&&e>0&&(this.fileSize=e)},methods:{showImageViewer:function(){this.selectedFiles.length&&(this.viewerIndex=0)},zoomIn:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.systemConfig.useShortcuts||!e){var t=Math.floor(105*this.fileSize/100);this.fileSize=t<this.maxFileSize?t:this.maxFileSize}},zoomOut:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.systemConfig.useShortcuts||!e){var t=Math.floor(95*this.fileSize/100);this.fileSize=t>this.minFileSize?t:this.minFileSize}},showShortcutsModal:function(){this.showShortcuts=!0},onKeyUp:function(e){if(e&&e.preventDefault(),this.systemConfig.useShortcuts){var t={space:32,pageUp:33,pageDown:34,left:37,up:38,right:39,down:40,delete:46,digit0:48,digit9:57,numpad0:96,numpad9:105,a:65,z:90};switch(e.keyCode){case t.left:this.cursor("left");break;case t.up:this.cursor("up");break;case t.right:this.cursor("right");break;case t.down:this.cursor("down");break;case t.space:this.selectCurrent(!1);break;case t.delete:this.deleteFiles();break;case t.pageUp:this.backward();break;case t.pageDown:this.forward();break;default:if(e.keyCode>=t.a&&e.keyCode<=t.z)this.selectFolderByLetter(e.key);else if(e.keyCode>=t.digit0&&e.keyCode<=t.digit9||e.keyCode>=t.numpad0&&e.keyCode<=t.numpad9){var n=e.keyCode<t.numpad0?e.keyCode-t.digit0:e.keyCode-t.numpad0;this.selectFileByIndex(n)}break}}},selectFolderByLetter:function(e){console.log("leteter: ".concat(e));var t=this.folder.folders.find((function(t){return t.name.toLowerCase().startsWith(e)}));t&&this.goToTheFolder(t)},selectFileByIndex:function(e){var t=(e+10)%11;this.screenFiles.length>t&&this.toggleSelect(this.screenFiles[t])},openCurrentFile:function(){var e=this,t=this.screenFiles.find((function(e){return e.cursor}));this.viewingFile=t,this.$nextTick((function(){return e.$refs.FileViewing.show()}))},openFile:function(e){var t=this;console.log(e),this.viewingFile=e,this.$nextTick((function(){return t.$refs.FileViewing.show()}))},calculateStatistic:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.isLoading.statistic=!0,t.prev=1,t.next=4,f["a"].calculateStatistic();case 4:t.next=10;break;case 6:t.prev=6,t.t0=t["catch"](1),console.log(t.t0),console.error("An error occurred!");case 10:return t.next=12,e.loadStatistic(e.path);case 12:e.isLoading.statistic=!1;case 13:case"end":return t.stop()}}),t,null,[[1,6]])})))()},selectFolder:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function n(){var i,r,a,s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return i=e.folder,r=e.filter,a=t.createdFolders.find((function(e){return e.name===i})),s=a.path,console.log(a),t.filter=r||{},h["a"].unsubscribeForFolder(t.openedPath),n.next=8,t.loadFiles(a.path);case 8:h["a"].subscibeForFolder(s,t.fileChanged()),t.openedPath=s;case 10:case"end":return n.stop()}}),n)})))()},statisticExpanded:function(){this.$refs.WindowSplitting.expand(),this.statisticShown=!0},statisticHidden:function(){this.$refs.WindowSplitting.shrink(),this.statisticShown=!1},setCursorAndSelect:function(e,t){var n=this.screenFiles.find((function(e){return e.cursor}));n&&(n.cursor=!1),e.cursor=!0,t.shiftKey?this.selectCurrent(!0):this.toggleSelect(e)},scrollToFocusFile:function(e){var t=this.screenFiles[e],n=document.getElementById("file_".concat(t.path)),i=window.innerHeight,r=n.getBoundingClientRect().top-n.getBoundingClientRect().bottom;n&&(n.scrollIntoView(!1),window.scrollBy(0,Math.floor(i/2)+r))},cursor:function(e){console.log("cursor to",e);var t=this.screenFiles.findIndex((function(e){return e.cursor})),n=null;if(-1!==t){var i=null;switch(e){case"right":t+1<this.screenFiles.length&&(n=t+1);break;case"left":t>0&&(n=t-1);break;case"down":i=document.getElementById("file_".concat(this.screenFiles[t].path)).getBoundingClientRect();for(var r=t+1;r<this.screenFiles.length;++r){var a=document.getElementById("file_".concat(this.screenFiles[r].path)).getBoundingClientRect();if(i.x===a.x){n=r;break}}break;case"up":i=document.getElementById("file_".concat(this.screenFiles[t].path)).getBoundingClientRect();for(var s=t-1;s>=0;--s){var l=document.getElementById("file_".concat(this.screenFiles[s].path)).getBoundingClientRect();if(i.left===l.left){n=s;break}}break;default:break}(n||0===n)&&(this.screenFiles[t].cursor=!1,this.screenFiles[n].cursor=!0,this.scrollToFocusFile(n))}else this.screenFiles[0].cursor=!0},selectCurrent:function(e){var t=this.screenFiles.findIndex((function(e){return e.cursor}));if(-1!==t){if(this.toggleSelect(this.screenFiles[t],!0),e&&(this.lastSelectedFileIndex||0===this.lastSelectedFileIndex)){var n=t-this.lastSelectedFileIndex,i=Math.sign(n)>0?this.lastSelectedFileIndex+1:t+1,r=Math.sign(n)>0?t-1:this.lastSelectedFileIndex-1;console.log(i,r,"kokoko");for(var a=i;a<=r;++a)this.toggleSelect(this.screenFiles[a],!0);this.lastSelectedFileIndex=null}e||(this.lastSelectedFileIndex=t)}},selected:function(){console.log("selected")},toggleSelect:function(e,t){if(console.log("File ".concat(e.path," ").concat(e.selected?"unselected":"selected")),e.selected=!e.selected,e.selected)this.selectedFiles.push(e);else{for(var n=-1,i=0;i<this.selectedFiles.length;++i)if(this.selectedFiles[i].path===e.path){n=i;break}n>-1&&this.selectedFiles.splice(n,1)}t||(this.lastSelectedFileIndex=this.screenFiles.findIndex((function(t){return t.path===e.path})))},loadStatistic:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function n(){var i,r,a,s,l,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,f["a"].getStatistic(e);case 2:i=n.sent,r=i.matched,a=i.missed,s=i.missmatched,l=i.calculated,o=i.table,t.statistic.calculated=l,t.statistic.matched=r,t.statistic.missed=a,t.statistic.missmatched=s,t.statistic.table=o,console.log("statistic table: ",t.statistic.table);case 14:case"end":return n.stop()}}),n)})))()},onFolderCreated:function(){this.loadFiles(this.openedPath)},loadFiles:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function n(){var i,r,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.folder.files=[],t.folder.folders=[],t.screenFiles=[],t.selectedFiles=[],n.next=6,f["a"].getFiles(e);case 6:return i=n.sent,t.folder.files=i.files.map((function(e){return e.type="file",e.selected=!1,e.serverPath=t.staticServer+e.relativePath,e.cursor=!1,e})).filter((function(e){var n=!0,i=!0;return t.filter.exclude&&e.name.toLowerCase().includes(t.filter.exclude.toLowerCase())&&(n=!1),t.filter.include&&(i=!!e.name.toLowerCase().includes(t.filter.include.toLowerCase())),i&&n})),t.folder.total_file=t.folder.files.length,r="-",t.folder.folders=i.folders.map((function(e){e.type="folder",e.selected=!1;var t=e.name.toLowerCase(),n=t.substring(0,1);return t.startsWith(r)||n.toUpperCase()===n.toLowerCase()||(e.shortcut=n.toUpperCase(),r=n),e})),n.next=13,f["a"].getParent(e);case 13:return a=n.sent,a.access&&t.folder.folders.unshift({path:a.path,name:"../",type:"folder"}),n.next=17,f["a"].getNextFolders(e);case 17:return t.nextFolders=n.sent,t.page||(t.page=1),t.configFilePerPage?t.perPage=t.configFilePerPage:t.perPage=t.folder.files.length,t.page_count=Math.ceil(t.folder.files.length/t.perPage),t.page>t.page_count&&(t.page=t.page_count),t.calculatePage(t.page),n.abrupt("return",{currentPath:i.path});case 24:case"end":return n.stop()}}),n)})))()},calculatePage:function(e){this.perPage?this.screenFiles=this.folder.files.slice((e-1)*this.perPage,e*this.perPage):this.screenFiles=Object(l["a"])(this.folder.files),this.screenFiles.length&&(this.screenFiles=this.screenFiles.map((function(e){return e.cursor=!1,e})),this.screenFiles[0].cursor=!0)},onPageChange:function(e){this.page=e,this.calculatePage(e)},backward:function(){this.page>1&&(this.page-=1,this.calculatePage(this.page))},forward:function(){this.forwardOnly?this.onForwardOnly():this.page<this.page_count&&(this.page+=1,this.calculatePage(this.page))},onForwardOnly:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var n,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.selectedFiles.map((function(e){return e.path})),i=e.screenFiles.filter((function(e){return!n.includes(e.path)&&e.image})).map((function(e){return e.path})),t.next=4,f["a"].doForwardOnly(n,i);case 4:e.loadFiles(e.path);case 5:case"end":return t.stop()}}),t)})))()},goToTheFolder:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(e.path!==t.path){n.next=8;break}return h["a"].unsubscribeForFolder(t.openedPath),h["a"].subscibeForFolder(t.path,t.fileChanged()),t.openedPath=t.path,t.filter={},n.next=7,t.loadFiles(t.path);case 7:return n.abrupt("return");case 8:if(!(t.statisticShown&&e.path.length>t.path.length)){n.next=12;break}return n.next=11,t.selectFolder({folder:e.name,filter:{}});case 11:return n.abrupt("return",n.sent);case 12:t.$router.push({name:"explorer",query:{dir:e.path}});case 13:case"end":return n.stop()}}),n)})))()},deleteFiles:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(0!==e.selectedFiles.length){t.next=2;break}return t.abrupt("return");case 2:return console.log("Delete files"),e.isLoading.deleting=!0,t.next=6,f["a"].deleteFiles(e.selectedFiles.map((function(e){return e.path})));case 6:return e.isLoading.deleting=!1,t.next=9,e.loadFiles(e.path);case 9:case"end":return t.stop()}}),t)})))()},moveFiles:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(0!==t.selectedFiles.length){n.next=2;break}return n.abrupt("return");case 2:if(0!==t.nextFolders.length){n.next=4;break}return n.abrupt("return");case 4:return t.isLoading.moving=!0,n.next=7,f["a"].moveFiles(t.selectedFiles.map((function(e){return e.path})),e);case 7:return t.isLoading.moving=!1,n.next=10,t.loadFiles(t.path);case 10:case"end":return n.stop()}}),n)})))()},fileChanged:function(){var e=this,t=this;return function(n){if(console.log(n),"add"===n.event&&"file"===n.type)n.selected=!1,n.serverPath=e.staticServer+n.relativePath,t.folder.files.push(n),t.page===t.page_count&&t.screenFiles.push(n);else if("add"===n.event&&"folder"===n.type)n.selected=!1,t.folder.folders.push(n);else if("remove"===n.event&&"folder"===n.type){for(var i=-1,r=0;r<t.folder.folders.length;r++)if(t.folder.folders[r].path===n.path){i=r;break}i>-1&&t.folder.folders.splice(i,1)}else if("remove"===n.event&&"file"===n.type){for(var a=-1,s=0;s<t.folder.files.length;s++)if(t.folder.files[s].path===n.path){a=s;break}a>-1&&t.folder.files.splice(a,1),a=-1;for(var l=0;l<t.selectedFiles.length;l++)if(t.selectedFiles[l].path===n.path){a=l;break}a>-1&&t.selectedFiles.splice(a,1),a=-1;for(var o=0;o<t.screenFiles.length;o++)if(t.screenFiles[o].path===n.path){a=o;break}a>-1&&t.screenFiles.splice(a,1)}}},setFocusOnFiles:function(){console.log("set focus on files"),window.document.getElementById("keyupevents").focus()},enablePreventingScrolling:function(){window.addEventListener("keydown",he,!1)},disablePreventingScrolling:function(){window.removeEventListener("keydown",he)},onOpenModal:function(){this.disablePreventingScrolling()},onCloseModal:function(){this.setFocusOnFiles(),this.enablePreventingScrolling()},showStatistic:function(){p["a"].$emit("show-statistic",this.path)},createNewFolder:function(){console.log("create new folder"),p["a"].$emit("create-new-folder",this.path)}},created:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var n,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.perPage=e.configFilePerPage,t.next=3,e.loadFiles(e.dir||null);case 3:return n=t.sent,i=n.currentPath,e.createdFolders=e.folder.folders,t.next=8,e.loadStatistic(e.dir||i||e.path||null);case 8:return e.path=i,e.openedPath=i,h["a"].subscibeForFolder(e.path,e.fileChanged()),e.setFocusOnFiles(),t.next=14,f["a"].getRunningState();case 14:e.status=t.sent,h["a"].subscibeForFolder("running.lock",(function(t){"change"===t.event&&(e.status=t.content),"unlink"===t.event&&(e.status=!1)})),e.enablePreventingScrolling();case 17:case"end":return t.stop()}}),t)})))()},beforeDestroy:function(){h["a"].unsubscribeForFolder(this.path),h["a"].unsubscribeForFolder("running.lock")}},ge=pe,me=(n("0117"),Object(v["a"])(ge,a,s,!1,null,null,null)),_e=me.exports,be={props:["dir"],components:{FileExplorer:_e},methods:{checkPermission:function(){}},mounted:function(){p["a"].$on("loaded-config",this.checkPermission)},destroyed:function(){p["a"].$off("loaded-config")}},ve=be,we=Object(v["a"])(ve,i,r,!1,null,null,null);t["default"]=we.exports},c740:function(e,t,n){"use strict";var i=n("23e7"),r=n("b727").findIndex,a=n("44d2"),s=n("ae40"),l="findIndex",o=!0,c=s(l);l in[]&&Array(1)[l]((function(){o=!1})),i({target:"Array",proto:!0,forced:o||!c},{findIndex:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),a(l)},eed5:function(e,t,n){"use strict";var i=n("2ddb"),r=n.n(i);r.a},f282:function(e,t,n){"use strict";var i=n("8365"),r=n.n(i);r.a},f748:function(e,t){e.exports=Math.sign||function(e){return 0==(e=+e)||e!=e?e:e<0?-1:1}},ff5a:function(e,t,n){}}]);
//# sourceMappingURL=chunk-5813d042.2b9f8bf1.js.map